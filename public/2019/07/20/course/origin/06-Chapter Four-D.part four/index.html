<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>原生JS - Chapter Four.D | Edsyang</title><meta name="robots" content="noindex"><meta name="description" content="12. 严格模式&quot;use strict&quot;表示当前脚本使用严格模式解析  一般情况下，js运行在松散模式下的。为了让语言越来越规范，引入了严格模式。 使用严格模式：在脚本的第一行增加一个字符串 &quot;use strict&quot;在松散模式和严格模式中一些不同：  1.在严格模式下，函数形参和arguments不再存在映射关系 12345function sum(a, b"><meta name="keywords" content="JS Notes"><meta name="author" content="Edsyang,edsyang1102@gmail.com"><meta name="copyright" content="Edsyang"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.svg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="原生JS - Chapter Four.D"><meta name="twitter:description" content="12. 严格模式&quot;use strict&quot;表示当前脚本使用严格模式解析  一般情况下，js运行在松散模式下的。为了让语言越来越规范，引入了严格模式。 使用严格模式：在脚本的第一行增加一个字符串 &quot;use strict&quot;在松散模式和严格模式中一些不同：  1.在严格模式下，函数形参和arguments不再存在映射关系 12345function sum(a, b"><meta name="twitter:image" content="https://tva1.sinaimg.cn/large/007S8ZIlly1gegal5ikmoj30u00xpe81.jpg"><meta property="og:type" content="article"><meta property="og:title" content="原生JS - Chapter Four.D"><meta property="og:url" content="http://blog.lagerstroemia.com.cn/2019/07/20/course/origin/06-Chapter%20Four-D.part%20four/"><meta property="og:site_name" content="Edsyang"><meta property="og:description" content="12. 严格模式&quot;use strict&quot;表示当前脚本使用严格模式解析  一般情况下，js运行在松散模式下的。为了让语言越来越规范，引入了严格模式。 使用严格模式：在脚本的第一行增加一个字符串 &quot;use strict&quot;在松散模式和严格模式中一些不同：  1.在严格模式下，函数形参和arguments不再存在映射关系 12345function sum(a, b"><meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlly1gegal5ikmoj30u00xpe81.jpg"><meta property="article:published_time" content="2019-07-20T03:38:34.720Z"><meta property="article:modified_time" content="2020-05-18T16:05:19.622Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://blog.lagerstroemia.com.cn/2019/07/20/course/origin/06-Chapter%20Four-D.part%20four/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: {"languages":{"author":"作者: Edsyang","link":"链接: ","source":"来源: Edsyang","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Edsyang" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">124</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">9</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">44</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#12-严格模式"><span class="toc-number">1.</span> <span class="toc-text">12. 严格模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-throw关键字手动抛出错误"><span class="toc-number">2.</span> <span class="toc-text">13. throw关键字手动抛出错误</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#10-1-常见的内置类错误类型"><span class="toc-number">2.1.</span> <span class="toc-text">10.1 常见的内置类错误类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-2-结合try-catch根据不同的报错类型，采取不同的措施"><span class="toc-number">2.2.</span> <span class="toc-text">10.2 结合try-catch根据不同的报错类型，采取不同的措施</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-解构赋值"><span class="toc-number">3.</span> <span class="toc-text">14. 解构赋值</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-1-数组的解构赋值"><span class="toc-number">3.1.</span> <span class="toc-text">11.1 数组的解构赋值</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#11-1-1-顺序解构"><span class="toc-number">3.1.1.</span> <span class="toc-text">11.1.1 顺序解构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-1-2-只取数组中的某一个，前面加逗号"><span class="toc-number">3.1.2.</span> <span class="toc-text">11.1.2 只取数组中的某一个，前面加逗号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-1-3-进一步解构"><span class="toc-number">3.1.3.</span> <span class="toc-text">11.1.3 进一步解构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-1-4-取出第一项和第二项，把剩下的放到一个数组中（…剩余运算符）"><span class="toc-number">3.1.4.</span> <span class="toc-text">11.1.4 取出第一项和第二项，把剩下的放到一个数组中（…剩余运算符）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-1-5-数组解构赋值时的默认值"><span class="toc-number">3.1.5.</span> <span class="toc-text">11.1.5 数组解构赋值时的默认值</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-2-对象的解构赋值"><span class="toc-number">3.2.</span> <span class="toc-text">11.2 对象的解构赋值</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#11-2-1-对象的解构赋值"><span class="toc-number">3.2.1.</span> <span class="toc-text">11.2.1 对象的解构赋值</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-2-2-进一步解构"><span class="toc-number">3.2.2.</span> <span class="toc-text">11.2.2 进一步解构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-2-3-重命名"><span class="toc-number">3.2.3.</span> <span class="toc-text">11.2.3 重命名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-2-4-对象解构的默认值"><span class="toc-number">3.2.4.</span> <span class="toc-text">11.2.4 对象解构的默认值</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-3-字符串解构"><span class="toc-number">3.3.</span> <span class="toc-text">11.3 字符串解构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-4-函数的参数解构"><span class="toc-number">3.4.</span> <span class="toc-text">11.4 函数的参数解构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-5-对象的简洁语法"><span class="toc-number">3.5.</span> <span class="toc-text">11.5 对象的简洁语法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-正则"><span class="toc-number">4.</span> <span class="toc-text">15. 正则</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-正则的创建方式"><span class="toc-number">4.1.</span> <span class="toc-text">12.1 正则的创建方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-正则的修饰符、元字符"><span class="toc-number">4.2.</span> <span class="toc-text">12.2 正则的修饰符、元字符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#12-2-1-修饰符"><span class="toc-number">4.2.1.</span> <span class="toc-text">12.2.1 修饰符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-2-2-特殊元字符"><span class="toc-number">4.2.2.</span> <span class="toc-text">12.2.2 特殊元字符</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#12-2-2-1-正则-中括号（-）的细节"><span class="toc-number">4.2.2.1.</span> <span class="toc-text">12.2.2.1 正则-中括号（ [ ]）的细节</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12-2-2-2-正则-小括号（-）的细节"><span class="toc-number">4.2.2.2.</span> <span class="toc-text">12.2.2.2 正则-小括号（ ( )）的细节</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12-2-2-3-正向预查、负向预查"><span class="toc-number">4.2.2.3.</span> <span class="toc-text">12.2.2.3 正向预查、负向预查</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-2-3-量词元字符"><span class="toc-number">4.2.3.</span> <span class="toc-text">12.2.3 量词元字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-2-4-普通元字符"><span class="toc-number">4.2.4.</span> <span class="toc-text">12.2.4 普通元字符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-3-正则匹配、捕获及分组捕获"><span class="toc-number">4.3.</span> <span class="toc-text">12.3 正则匹配、捕获及分组捕获</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#12-3-1-正则匹配（test）"><span class="toc-number">4.3.1.</span> <span class="toc-text">12.3.1 正则匹配（test）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-3-2-正则捕获（exec）"><span class="toc-number">4.3.2.</span> <span class="toc-text">12.3.2 正则捕获（exec）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#12-3-2-1-正则捕获的懒惰性"><span class="toc-number">4.3.2.1.</span> <span class="toc-text">12.3.2.1 正则捕获的懒惰性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12-3-2-2-正则的lastIndex属性"><span class="toc-number">4.3.2.2.</span> <span class="toc-text">12.3.2.2 正则的lastIndex属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12-3-2-3-正则配合字符串的match方法"><span class="toc-number">4.3.2.3.</span> <span class="toc-text">12.3.2.3 正则配合字符串的match方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12-3-2-4-正则捕获的贪婪性"><span class="toc-number">4.3.2.4.</span> <span class="toc-text">12.3.2.4 正则捕获的贪婪性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12-3-2-5-分组捕获"><span class="toc-number">4.3.2.5.</span> <span class="toc-text">12.3.2.5 分组捕获</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-4-正则简单应用"><span class="toc-number">4.4.</span> <span class="toc-text">12.4 正则简单应用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#12-4-1-验证中国大陆手机号"><span class="toc-number">4.4.1.</span> <span class="toc-text">12.4.1 验证中国大陆手机号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-4-2-校验号段188-177-134-156-132-199"><span class="toc-number">4.4.2.</span> <span class="toc-text">12.4.2 校验号段188 177 134 156 132 199</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-4-3-匹配尾号是豹子号（末尾连续三位相同）"><span class="toc-number">4.4.3.</span> <span class="toc-text">12.4.3 匹配尾号是豹子号（末尾连续三位相同）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-4-4-匹配靓号（中间、末尾四位相同）"><span class="toc-number">4.4.4.</span> <span class="toc-text">12.4.4 匹配靓号（中间、末尾四位相同）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-4-5-验证有效数字"><span class="toc-number">4.4.5.</span> <span class="toc-text">12.4.5 验证有效数字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-4-6-验证一个数字是否在某一个范围内：23-68"><span class="toc-number">4.4.6.</span> <span class="toc-text">12.4.6 验证一个数字是否在某一个范围内：23-68</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-4-7-匹配中文姓名（2-4位）"><span class="toc-number">4.4.7.</span> <span class="toc-text">12.4.7 匹配中文姓名（2-4位）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-4-8-邮箱验证（简单验证：包含雅虎、新浪、谷歌、网易、qq）"><span class="toc-number">4.4.8.</span> <span class="toc-text">12.4.8 邮箱验证（简单验证：包含雅虎、新浪、谷歌、网易、qq）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-4-9-首字母小写转大写"><span class="toc-number">4.4.9.</span> <span class="toc-text">12.4.9 首字母小写转大写</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-4-10-数字转大写"><span class="toc-number">4.4.10.</span> <span class="toc-text">12.4.10 数字转大写</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-4-11-数字加千分符"><span class="toc-number">4.4.11.</span> <span class="toc-text">12.4.11 数字加千分符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-5-正则高级应用"><span class="toc-number">4.5.</span> <span class="toc-text">12.5 正则高级应用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#12-5-1-正则结合字符串的replace方法使用"><span class="toc-number">4.5.1.</span> <span class="toc-text">12.5.1 正则结合字符串的replace方法使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-5-2-格式化时间字符串"><span class="toc-number">4.5.2.</span> <span class="toc-text">12.5.2 格式化时间字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-5-3-url查询参数序列化（格式化）"><span class="toc-number">4.5.3.</span> <span class="toc-text">12.5.3 url查询参数序列化（格式化）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-数据类型检测"><span class="toc-number">5.</span> <span class="toc-text">16. 数据类型检测</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://tva1.sinaimg.cn/large/007S8ZIlly1gegal5ikmoj30u00xpe81.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Edsyang</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">原生JS - Chapter Four.D</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2019-07-20 03:38:34"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2019-07-20</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-05-18 16:05:19"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-05-18</span></time></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="post-meta__icon fa fa-file-word-o" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">6k</span><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-clock-o" aria-hidden="true"></i><span>阅读时长: 24 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h2 id="12-严格模式"><a href="#12-严格模式" class="headerlink" title="12. 严格模式"></a><em>12. 严格模式</em></h2><p><code>&quot;use strict&quot;</code>表示当前脚本使用严格模式解析 </p>
<pre><code>一般情况下，js运行在松散模式下的。为了让语言越来越规范，引入了严格模式。
使用严格模式：在脚本的第一行增加一个字符串 &quot;use strict&quot;</code></pre><p>在松散模式和严格模式中一些不同：</p>
<ul>
<li><p>1.在严格模式下，函数形参和arguments不再存在映射关系</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    b = <span class="number">15</span> <span class="comment">// 在松散模式下，形参和arguments存在映射关系，如果在函数中修改形参的值，arguments中对应的值也会跟着修改</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>) <span class="comment">// [1, 15]</span></span><br><span class="line">&#125;</span><br><span class="line">sum(<span class="number">1</span>, <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>webpack打包时，会把JS文件默认添加”use strict”</p>
</blockquote>
</li>
<li><p>2.call方法改变this指向；但在严格模式下，call不传参时，函数中的this是undefined，call谁，函数中的this就是谁</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'mars'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 松散模式下</span></span><br><span class="line"><span class="comment">sum() // window</span></span><br><span class="line"><span class="comment">sun(obj) // obj</span></span><br><span class="line"><span class="comment">sum.call(null) // window</span></span><br><span class="line"><span class="comment">sum.call(undefined) // window */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 严格模式下</span></span><br><span class="line"><span class="comment">sum() // undefined</span></span><br><span class="line"><span class="comment">sun(obj) // obj</span></span><br><span class="line"><span class="comment">sum.call(null) // null</span></span><br><span class="line"><span class="comment">sum.call(undefined) // undefined */</span></span><br></pre></td></tr></table></figure></li>
<li><p>3.严格模式下不能给未声明的变量赋值，如果赋值就会报错</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span> <span class="comment">// 严格模式下会报错</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'a'</span> <span class="keyword">in</span> <span class="built_in">window</span>) <span class="comment">// 松散模式下为true；严格模式下报错【ReferenceError引用错误】</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="13-throw关键字手动抛出错误"><a href="#13-throw关键字手动抛出错误" class="headerlink" title="13. throw关键字手动抛出错误"></a><em>13. throw关键字手动抛出错误</em></h2><p>关键字；用来手动抛出异常（错误）；抛出异常后，后面的代码就不会执行（同步的操作会影响，异步的不受影响）；throw后面无论写什么，都会当成错误抛出</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="string">'hello world'</span></span><br><span class="line">alert(<span class="string">'123'</span>)</span><br><span class="line"><span class="keyword">throw</span> &#123;name = <span class="string">'mars'</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="10-1-常见的内置类错误类型"><a href="#10-1-常见的内置类错误类型" class="headerlink" title="10.1 常见的内置类错误类型"></a><em>10.1 常见的内置类错误类型</em></h3><ul>
<li>1.<code>ReferenceError</code> 引用错误</li>
</ul>
<p>一般由于引用未声明的变量导致</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">ReferenceError</span>(<span class="string">'引用错误'</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>2.<code>TypeError</code> 类型错误</li>
</ul>
<p>一般由于搞错类型（不是函数的变量或者值后面跟一个小括号）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'类型错误'</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>3.<code>SyntaxError</code> 语法错误</li>
</ul>
<p>一般都是因为语法写的不对</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">SyntaxError</span>(<span class="string">'语法错误'</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>4.<code>Error</code> 普通错误<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'普通错误'</span>) <span class="comment">// 可以省略new</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="10-2-结合try-catch根据不同的报错类型，采取不同的措施"><a href="#10-2-结合try-catch根据不同的报错类型，采取不同的措施" class="headerlink" title="10.2 结合try-catch根据不同的报错类型，采取不同的措施"></a><em>10.2 结合try-catch根据不同的报错类型，采取不同的措施</em></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">SyntaxError</span>(<span class="string">'类型错误'</span>)</span><br><span class="line">&#125; <span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="comment">// 根据报错类型不同，采取不同的措施</span></span><br><span class="line">    <span class="keyword">if</span>(e <span class="keyword">instanceof</span> <span class="built_in">TypeError</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(e <span class="keyword">instanceof</span> <span class="built_in">SyntaxError</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="14-解构赋值"><a href="#14-解构赋值" class="headerlink" title="14. 解构赋值"></a><em>14. 解构赋值</em></h2><p>利用数据结构，快速对对象和数组进行取值（ES6新增）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'mars'</span>,</span><br><span class="line">    age: <span class="string">'18'</span>,</span><br><span class="line">    title: <span class="string">'24k magic'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 没有解构赋值的情况</span></span><br><span class="line"><span class="comment">let name = obj.name</span></span><br><span class="line"><span class="comment">let age = obj.age</span></span><br><span class="line"><span class="comment">let title = obj.title */</span></span><br><span class="line"><span class="keyword">let</span> &#123;name, age, title&#125; = obj</span><br><span class="line"><span class="built_in">console</span>.log(name, age, title)</span><br><span class="line">----------------- </span><br><span class="line"><span class="keyword">let</span> ary = [<span class="string">'A'</span>,<span class="string">'B'</span>,<span class="string">'C'</span>,<span class="string">'D'</span>,<span class="string">'E'</span>]</span><br><span class="line"><span class="comment">/* 没有解构赋值的情况</span></span><br><span class="line"><span class="comment">let a = ary[0]</span></span><br><span class="line"><span class="comment">let b = ary[1] */</span></span><br><span class="line"><span class="keyword">let</span> &#123;a, b, c, d, e&#125; = ary</span><br><span class="line"><span class="built_in">console</span>.log(a, b, c, d, e)</span><br></pre></td></tr></table></figure>

<h3 id="11-1-数组的解构赋值"><a href="#11-1-数组的解构赋值" class="headerlink" title="11.1 数组的解构赋值"></a><em>11.1 数组的解构赋值</em></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ary = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br></pre></td></tr></table></figure>
<h4 id="11-1-1-顺序解构"><a href="#11-1-1-顺序解构" class="headerlink" title="11.1.1 顺序解构"></a><em>11.1.1 顺序解构</em></h4><p>等号左边是变量，等号右边是数组，左边的变量要求和想取的数组中的值的位置相对应</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, b, c, d] = ary</span><br><span class="line"><span class="built_in">console</span>.log(a, b, c, d) <span class="comment">// 1 2 3 4</span></span><br></pre></td></tr></table></figure>
<h4 id="11-1-2-只取数组中的某一个，前面加逗号"><a href="#11-1-2-只取数组中的某一个，前面加逗号" class="headerlink" title="11.1.2 只取数组中的某一个，前面加逗号"></a><em>11.1.2 只取数组中的某一个，前面加逗号</em></h4><p>如：取第三个，前面写两个逗号</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [,,e] = ary</span><br><span class="line"><span class="built_in">console</span>.log(e) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<h4 id="11-1-3-进一步解构"><a href="#11-1-3-进一步解构" class="headerlink" title="11.1.3 进一步解构"></a><em>11.1.3 进一步解构</em></h4><p>如：取数组中’a’，’b’</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ary2 = [<span class="number">1</span>, [<span class="string">'a'</span>, <span class="string">'b'</span>]]</span><br><span class="line"><span class="keyword">let</span> [f, [g, h]] = ary2</span><br><span class="line"><span class="built_in">console</span>.log(g, h) <span class="comment">// 'a', 'b'</span></span><br></pre></td></tr></table></figure>
<h4 id="11-1-4-取出第一项和第二项，把剩下的放到一个数组中（…剩余运算符）"><a href="#11-1-4-取出第一项和第二项，把剩下的放到一个数组中（…剩余运算符）" class="headerlink" title="11.1.4 取出第一项和第二项，把剩下的放到一个数组中（…剩余运算符）"></a><em>11.1.4 取出第一项和第二项，把剩下的放到一个数组中（…剩余运算符）</em></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ary3 = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>]</span><br><span class="line"><span class="keyword">let</span> [i, g, ...k] = ary3 <span class="comment">// k的后面不能再解构，再解构就会报错【SyntaxError】</span></span><br><span class="line"><span class="built_in">console</span>.log(i) <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(g) <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(k) <span class="comment">// [5, 7, 9]</span></span><br></pre></td></tr></table></figure>
<h4 id="11-1-5-数组解构赋值时的默认值"><a href="#11-1-5-数组解构赋值时的默认值" class="headerlink" title="11.1.5 数组解构赋值时的默认值"></a><em>11.1.5 数组解构赋值时的默认值</em></h4><p>当解构到的值是undefined时（解构到的值就是undefined；没有解构到值），就会使用默认值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ary4 = [<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="literal">undefined</span>]</span><br><span class="line"><span class="keyword">let</span> [l, m, n, o = <span class="string">'haha'</span>] = ary4 <span class="comment">// 给o设置解构赋值的默认值</span></span><br><span class="line"><span class="built_in">console</span>.log(l, m, n, o) <span class="comment">// 2 4 6 haha</span></span><br></pre></td></tr></table></figure>
<p>当解构变量互为默认值时，注意顺序问题 ！</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 拿p当q的默认值</span></span><br><span class="line"><span class="keyword">let</span> [p, q = p] = [<span class="number">1</span>]</span><br><span class="line"><span class="built_in">console</span>.log(q, p) <span class="comment">// 1 1</span></span><br><span class="line">--------------</span><br><span class="line"><span class="keyword">let</span> [r = s, s] = [<span class="literal">undefined</span>, <span class="number">3</span>]</span><br><span class="line"><span class="built_in">console</span>.log(r, s) <span class="comment">// 报错，当r解构出是一个undefined时，要使用s的值做默认值，但s没声明过，就会报错</span></span><br></pre></td></tr></table></figure>

<h3 id="11-2-对象的解构赋值"><a href="#11-2-对象的解构赋值" class="headerlink" title="11.2 对象的解构赋值"></a><em>11.2 对象的解构赋值</em></h3><p>通常情况下使用 对象.属性名 或者 对象[‘属性名’] 取得该属性名对应的属性值</p>
<h4 id="11-2-1-对象的解构赋值"><a href="#11-2-1-对象的解构赋值" class="headerlink" title="11.2.1 对象的解构赋值"></a><em>11.2.1 对象的解构赋值</em></h4><p>利用变量名和对象的属性名同名时就可以取得对象该属性的值，和顺序无关</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'mars'</span>,</span><br><span class="line">    age: <span class="number">18</span>,</span><br><span class="line">    title: <span class="string">'magic'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;name, title, age&#125; = obj</span><br><span class="line"><span class="built_in">console</span>.log(name, age, title) <span class="comment">// 'mars' '18' 'magic'</span></span><br></pre></td></tr></table></figure>
<p>只取一个值，如：site；对象的解构赋值，想去哪个就写哪个</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> team = &#123;</span><br><span class="line">    name: <span class="string">'skt'</span>,</span><br><span class="line">    age: <span class="number">10</span>,</span><br><span class="line">    site: [<span class="string">'top'</span>,<span class="string">'mid'</span>,<span class="string">'sub'</span>,<span class="string">'adc'</span>,<span class="string">'jud'</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;site&#125; = team</span><br><span class="line"><span class="built_in">console</span>.log(site) <span class="comment">// ["top", "mid", "sub", "adc", "jud"]</span></span><br></pre></td></tr></table></figure>

<h4 id="11-2-2-进一步解构"><a href="#11-2-2-进一步解构" class="headerlink" title="11.2.2 进一步解构"></a><em>11.2.2 进一步解构</em></h4><p>解构mid的值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> team = &#123;</span><br><span class="line">    name: <span class="string">'skt'</span>,</span><br><span class="line">    age: <span class="number">10</span>,</span><br><span class="line">    player: &#123;</span><br><span class="line">        mid: &#123;</span><br><span class="line">            name: <span class="string">'faker'</span>,</span><br><span class="line">            age:<span class="string">'22'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">player</span>:&#123;<span class="attr">mid</span>:&#123;name&#125;&#125;&#125; = team</span><br><span class="line"><span class="built_in">console</span>.log(name) <span class="comment">// 'faker'</span></span><br></pre></td></tr></table></figure>

<h4 id="11-2-3-重命名"><a href="#11-2-3-重命名" class="headerlink" title="11.2.3 重命名"></a><em>11.2.3 重命名</em></h4><p>防止和其他变量命名冲突</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> site = <span class="string">'T1'</span> </span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name: <span class="string">'faker'</span>,</span><br><span class="line">    site: <span class="string">'mid'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">site</span>:site2&#125; = obj <span class="comment">// 从obj中解构site属性，并且重命名site2</span></span><br><span class="line"><span class="built_in">console</span>.log(site2) <span class="comment">// 'mid'</span></span><br></pre></td></tr></table></figure>

<h4 id="11-2-4-对象解构的默认值"><a href="#11-2-4-对象解构的默认值" class="headerlink" title="11.2.4 对象解构的默认值"></a><em>11.2.4 对象解构的默认值</em></h4><p>当解构出来的值是undefined，默认值才会生效</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name : <span class="string">'khan'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">name</span>:name2, address = <span class="string">'korea'</span>&#125; = obj</span><br><span class="line"><span class="built_in">console</span>.log(name2) <span class="comment">// 'khan'</span></span><br><span class="line"><span class="built_in">console</span>.log(address) <span class="comment">// 'korea'</span></span><br></pre></td></tr></table></figure>

<h3 id="11-3-字符串解构"><a href="#11-3-字符串解构" class="headerlink" title="11.3 字符串解构"></a><em>11.3 字符串解构</em></h3><p>字符串的解构依赖位置</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [x, y, z] = <span class="string">'HELLO'</span></span><br><span class="line"><span class="built_in">console</span>.log(x, y, z) <span class="comment">// H E L</span></span><br></pre></td></tr></table></figure>

<h3 id="11-4-函数的参数解构"><a href="#11-4-函数的参数解构" class="headerlink" title="11.4 函数的参数解构"></a><em>11.4 函数的参数解构</em></h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 原来是在函数中对obj解构</span></span><br><span class="line"><span class="comment">function reg(obj)&#123;</span></span><br><span class="line"><span class="comment">    let &#123;name, age&#125; = obj</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">reg(&#123;</span></span><br><span class="line"><span class="comment">    name: 'faker',</span></span><br><span class="line"><span class="comment">    age: 20</span></span><br><span class="line"><span class="comment">&#125;) */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">reg</span>(<span class="params">&#123;name = <span class="string">'faker'</span>, age = <span class="number">20</span>&#125;</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 在函数的形参位置解构函数执行时传递进来的实参</span></span><br><span class="line">    <span class="comment">// console.log(name, age)</span></span><br><span class="line">&#125;</span><br><span class="line">reg(&#123;</span><br><span class="line">    name: <span class="string">'faker'</span>,</span><br><span class="line">    age: <span class="number">20</span></span><br><span class="line">&#125;) </span><br><span class="line">-----------------</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAry</span>(<span class="params">[x, y, z]</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x, y, z) <span class="comment">// 'a' 'b' 'c'</span></span><br><span class="line">&#125;</span><br><span class="line">getAry ([<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>])</span><br></pre></td></tr></table></figure>

<h3 id="11-5-对象的简洁语法"><a href="#11-5-对象的简洁语法" class="headerlink" title="11.5 对象的简洁语法"></a><em>11.5 对象的简洁语法</em></h3><p>ES6新增</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> config = <span class="string">'192.168.1.1'</span></span><br><span class="line"><span class="keyword">let</span> pwd = <span class="string">'@#4ghsds099'</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    config: config,</span><br><span class="line">    pwd: pwd</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 当对象的属性名和变量名同名时，在对象中只写一个变量名就可以了</span></span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    config, <span class="comment">// config: config,</span></span><br><span class="line">    pwd <span class="comment">// pwd: pwd</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj) <span class="comment">// &#123;config: "192.168.1.1", pwd: "@#4ghsds099"&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(obj2) <span class="comment">// &#123;config: "192.168.1.1", pwd: "@#4ghsds099"&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="15-正则"><a href="#15-正则" class="headerlink" title="15. 正则"></a><em>15. 正则</em></h2><p>RegExp（regular expression）JS的内置类；是一个函数数据类型</p>
<p>是一个<strong>专门用来处理字符串的规则</strong>，处理分为两种：</p>
<pre><code>1）判断字符串是否符合这个规则，即正则匹配（text）
2）把符合规则的字符串获取到，即正则捕获（exec）</code></pre><h3 id="12-1-正则的创建方式"><a href="#12-1-正则的创建方式" class="headerlink" title="12.1 正则的创建方式"></a><em>12.1 正则的创建方式</em></h3><ul>
<li>字面量的方式创建（/元字符/修饰符）<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^\d+$/g</span></span><br></pre></td></tr></table></figure></li>
<li>构造函数（实例）的方式创建（new RegExp(‘元字符’,’修饰符’)）<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'\\d+'</span>, <span class="string">'g'</span>) <span class="comment">// \ 在字符串中也是转义符，当要使用\时，需要转义一次</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>正则的构成（字面量）：正则是由元字符和修饰符组成；两个斜线中包裹的叫元字符</p>
</blockquote>
</li>
</ul>
<h3 id="12-2-正则的修饰符、元字符"><a href="#12-2-正则的修饰符、元字符" class="headerlink" title="12.2 正则的修饰符、元字符"></a><em>12.2 正则的修饰符、元字符</em></h3><h4 id="12-2-1-修饰符"><a href="#12-2-1-修饰符" class="headerlink" title="12.2.1 修饰符"></a><em>12.2.1 修饰符</em></h4><table>
<thead>
<tr>
<th>字符</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td><code>i</code></td>
<td>ignoreCase 忽略大小写匹配</td>
</tr>
<tr>
<td><code>m</code></td>
<td>multiline 多行匹配</td>
</tr>
<tr>
<td><code>g</code></td>
<td>global 全局匹配</td>
</tr>
</tbody></table>
<h4 id="12-2-2-特殊元字符"><a href="#12-2-2-特殊元字符" class="headerlink" title="12.2.2 特殊元字符"></a><em>12.2.2 特殊元字符</em></h4><table>
<thead>
<tr>
<th>字符</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td><code>\d</code></td>
<td>匹配0-9中任意一个数字</td>
</tr>
<tr>
<td><code>\D</code></td>
<td>除了0-9以外的任意一个字符</td>
</tr>
<tr>
<td><code>\w</code></td>
<td>数字、字母、下划线中任意一个字符</td>
</tr>
<tr>
<td><code>\W</code></td>
<td>除了数字、字母、下划线以外任意一个字符</td>
</tr>
<tr>
<td><code>\s</code></td>
<td>匹配一个空白符（空格；制表符（tab）\t ；\n换行符 ；\r回车…）</td>
</tr>
<tr>
<td><code>\S</code></td>
<td>除了空白符以外任意一个字符</td>
</tr>
<tr>
<td><code>\b</code></td>
<td>匹配单词边界（边界字母和非字母连接的地方）</td>
</tr>
<tr>
<td><code>\n</code></td>
<td>匹配一个换行符</td>
</tr>
<tr>
<td><code>.</code></td>
<td>除换行符\n以外任意一个字符</td>
</tr>
<tr>
<td><code>\</code></td>
<td>转义符，把有特殊意义的字符转义为普通字符</td>
</tr>
<tr>
<td><code>^</code></td>
<td>（读作caret）表示以某个元字符开头</td>
</tr>
<tr>
<td><code>$</code></td>
<td>表示以某个元字符结尾</td>
</tr>
<tr>
<td>`x</td>
<td>y`</td>
</tr>
<tr>
<td><code>[]</code></td>
<td>表示匹配[ ]中任意一个字符</td>
</tr>
<tr>
<td><code>[xyz]</code></td>
<td>表示x/y/z中任意一个</td>
</tr>
<tr>
<td><code>[a-z]</code></td>
<td>表示匹配a-z中的任意一个小写字母</td>
</tr>
<tr>
<td><code>[A-Z]</code></td>
<td>表示匹配A-Z中的任意一个大写字母</td>
</tr>
<tr>
<td><code>[0-9]</code></td>
<td>表示匹配0-9中的任意一个数字，等价于\d</td>
</tr>
<tr>
<td><code>[^abc]</code></td>
<td>表示除了a、b、c以外的任意一个字符</td>
</tr>
<tr>
<td><code>()</code></td>
<td>正则分组</td>
</tr>
<tr>
<td><code>(?:)</code></td>
<td>表示当前分组只匹配不捕获（取消分组捕获）</td>
</tr>
<tr>
<td><code>(?=)</code></td>
<td>正向预查</td>
</tr>
<tr>
<td><code>(?!)</code></td>
<td>负向预查</td>
</tr>
</tbody></table>
<h5 id="12-2-2-1-正则-中括号（-）的细节"><a href="#12-2-2-1-正则-中括号（-）的细节" class="headerlink" title="12.2.2.1 正则-中括号（ [ ]）的细节"></a><em>12.2.2.1 正则-中括号（ [ ]）的细节</em></h5><ul>
<li>1.有些特殊元字符在中括号中不再是特殊元字符，而是这个字符的本义（不再具有特殊含义）<blockquote>
<p>常见的有 [.]、[*]、[?]、[+]</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg1 = <span class="regexp">/[.]/</span> <span class="comment">// 此时.代表一个普通的.符号</span></span><br><span class="line">reg1.test(<span class="string">'+'</span>) <span class="comment">// false</span></span><br><span class="line">reg1.test(<span class="string">'.'</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> reg2 = <span class="regexp">/[1*]/</span> <span class="comment">// 此时*代表一个普通的*符号</span></span><br><span class="line">reg2.test(<span class="string">'234'</span>) <span class="comment">// false</span></span><br><span class="line">reg2.test(<span class="string">'*'</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> reg3 = <span class="regexp">/[2?]/</span> <span class="comment">// 此时?代表一个普通的?符号</span></span><br><span class="line">reg3.test(<span class="string">'3'</span>) <span class="comment">// false</span></span><br><span class="line">reg3.test(<span class="string">'?'</span>) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> reg4 = <span class="regexp">/[3+]/</span> <span class="comment">// 此时+代表一个普通的+符号</span></span><br><span class="line">reg4.test(<span class="string">'3'</span>) <span class="comment">// true</span></span><br><span class="line">reg4.test(<span class="string">'+'</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure></li>
<li>2.中括号不能识别多位数（方括号中的多位数不表示一个多位数，而是代表多个一位数中的任意一个）<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg5 = <span class="regexp">/[183]/</span> <span class="comment">// 不是表示183，而是表示1/8/3中任意一个</span></span><br><span class="line">reg5.test(<span class="string">'124'</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>用正则写一个验证23-68中的数字</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg6 = <span class="regexp">/[23-68]/</span> <span class="comment">// 不是表示23-68；而是表示2或3-6或8</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 将范围拆分为23-29；30-59；60-68 */</span></span><br><span class="line"><span class="keyword">let</span> reg7 = <span class="regexp">/^(2[3-9]|[3-5]\d|6[0-8])$/</span></span><br></pre></td></tr></table></figure></li>
<li>3.中括号限制范围：使用中括号限制范围时，前面的要比后面的小<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg8 = <span class="regexp">/[z-a]/</span> <span class="comment">// 报错【SyntaxError】</span></span><br><span class="line"><span class="keyword">let</span> reg9 = <span class="regexp">/[9-0]/</span> <span class="comment">// 报错【SyntaxError】</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h5 id="12-2-2-2-正则-小括号（-）的细节"><a href="#12-2-2-2-正则-小括号（-）的细节" class="headerlink" title="12.2.2.2 正则-小括号（ ( )）的细节"></a><em>12.2.2.2 正则-小括号（ ( )）的细节</em></h5><ul>
<li><p>1.分组捕获</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'hello2020 world2019abc world2020xyz'</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/world(\d)[a-z]&#123;3&#125;/g</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str)[<span class="number">1</span>]) <span class="comment">// exec方法的返回值是一个数组，索引为1的项表示分组捕获的内容，所以可以通过索引取得分组捕获内容</span></span><br></pre></td></tr></table></figure></li>
<li><p>2.分组引用</p>
<p>  <code>\数字</code> 表示引用数字代表的分组的内容</p>
</li>
</ul>
<blockquote>
<p>需求：写一个正则，匹配两位数，要求十位上的数字和个位上的数字相同</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^(\d)\1$/</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">'22'</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">'33'</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">'23'</span>)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>需求：写一个正则，匹配第二个字母和第四个字母相同</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^[a-z]([a-z])[a-z]\1$/</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">'data'</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">'java'</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">'fear'</span>)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>需求：写一个正则，豹子号（如：13344445555）</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^1\d&#123;2&#125;(\d)\1&#123;3&#125;(\d)\2&#123;3&#125;$/</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">'13344445555'</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">'18888888888'</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<ul>
<li>3.改变优先级<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg1 = <span class="regexp">/^18|20$/</span> <span class="comment">// 表示以18开头或者以20结尾</span></span><br><span class="line"><span class="keyword">let</span> reg2 = <span class="regexp">/^(18|20)$/</span> <span class="comment">// 表示匹配到字符串内只有18或20</span></span><br><span class="line"><span class="built_in">console</span>.log(reg1.test(<span class="string">'1812312320'</span>)) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg2.test(<span class="string">'1812312320'</span>)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h5 id="12-2-2-3-正向预查、负向预查"><a href="#12-2-2-3-正向预查、负向预查" class="headerlink" title="12.2.2.3 正向预查、负向预查"></a><em>12.2.2.3 正向预查、负向预查</em></h5><ul>
<li>正向预查 <code>(?=)</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg1 = <span class="regexp">/x(?=y)/</span> <span class="comment">// 表示匹配x，并且仅当x后紧跟着一个y（匹配紧跟着y的x）</span></span><br></pre></td></tr></table></figure></li>
<li>负向预查 <code>(?!)</code><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg2 = <span class="regexp">/x(?!y)/</span> <span class="comment">// 表示匹配x，并且仅当x后没有y（匹配后面没有y的x）</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<blockquote>
<p>练习 </p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'a1 b2 c3 d4'</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/[a-z](?=3|4)/g</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str)) <span class="comment">// c</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str)) <span class="comment">// d</span></span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg)) <span class="comment">// [c, d]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> reg1 = <span class="regexp">/[a-z](?!3|4)/g</span></span><br><span class="line"><span class="built_in">console</span>.log(reg1.exec(str)) <span class="comment">// a</span></span><br><span class="line"><span class="built_in">console</span>.log(reg1.exec(str)) <span class="comment">// b</span></span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg1)) <span class="comment">// [a, b]</span></span><br></pre></td></tr></table></figure>

<h4 id="12-2-3-量词元字符"><a href="#12-2-3-量词元字符" class="headerlink" title="12.2.3 量词元字符"></a><em>12.2.3 量词元字符</em></h4><p>表示次数和个数</p>
<table>
<thead>
<tr>
<th>字符</th>
<th>意义</th>
</tr>
</thead>
<tbody><tr>
<td><code>*</code></td>
<td>表示出现0次到多次</td>
</tr>
<tr>
<td><code>?</code></td>
<td>表示出现0次或1次（出现或者不出现）</td>
</tr>
<tr>
<td><code>+</code></td>
<td>表示出现1次到多次</td>
</tr>
<tr>
<td><code>{n}</code></td>
<td>表示出现n次</td>
</tr>
<tr>
<td><code>{n,}</code></td>
<td>表示至少出现n次</td>
</tr>
<tr>
<td><code>{n,m}</code></td>
<td>表示出现n次到m次</td>
</tr>
</tbody></table>
<h4 id="12-2-4-普通元字符"><a href="#12-2-4-普通元字符" class="headerlink" title="12.2.4 普通元字符"></a><em>12.2.4 普通元字符</em></h4><p>除了特殊元字符、量词元字符以外的其他元字符都是普通元字符</p>
<h3 id="12-3-正则匹配、捕获及分组捕获"><a href="#12-3-正则匹配、捕获及分组捕获" class="headerlink" title="12.3 正则匹配、捕获及分组捕获"></a><em>12.3 正则匹配、捕获及分组捕获</em></h3><h4 id="12-3-1-正则匹配（test）"><a href="#12-3-1-正则匹配（test）" class="headerlink" title="12.3.1 正则匹配（test）"></a><em>12.3.1 正则匹配（test）</em></h4><p><code>RegExp.prototype.test(&#39;字符串&#39;)</code></p>
<p>方法；test方法定义在RegExp的原型上，所有正则的实例都可以使用这个方法；这个方法用来匹配，检测一个字符串是否匹配当前正则，如果匹配返回true，不匹配返回false</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/\d/</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">'abc'</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(str)) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="12-3-2-正则捕获（exec）"><a href="#12-3-2-正则捕获（exec）" class="headerlink" title="12.3.2 正则捕获（exec）"></a><em>12.3.2 正则捕获（exec）</em></h4><p><code>RegExp.prototype.exec(&#39;字符串&#39;) / String.prototype.match(正则)</code></p>
<p>方法；字符串中有符合这个规则，正则捕获捕获到的是一个数组，如果没有符合的规则，返回一个null</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'hello2020 world2019 world2020'</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/world\d+/</span></span><br><span class="line"><span class="keyword">let</span> result = reg.exec(str)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(result)) <span class="comment">// true</span></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">[</span></span><br><span class="line"><span class="comment">    "world2019", 捕获到符合规则的内容</span></span><br><span class="line"><span class="comment">    index: 10, 捕获的起始索引位置</span></span><br><span class="line"><span class="comment">    input: "hello2020 world2019 world2020", 原字符串</span></span><br><span class="line"><span class="comment">    groups: undefined 命名匹配</span></span><br><span class="line"><span class="comment">] </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h5 id="12-3-2-1-正则捕获的懒惰性"><a href="#12-3-2-1-正则捕获的懒惰性" class="headerlink" title="12.3.2.1 正则捕获的懒惰性"></a><em>12.3.2.1 正则捕获的懒惰性</em></h5><p>正则在捕获的时候，如果没有特殊处理时，每次从头（索引为0）开始找，找到符合规则的就停止捕获，即使后面还有符合条件的也不管了</p>
<blockquote>
<p>解决办法：在正则后面加修饰符g（global全局匹配），即把所有的都找到；正则捕获每次只能捕获一个，即使加了g也是捕获一个，但加了g之后多次执行捕获方法，可以把所有符合条件的字符串捕获到</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'hello2020 world2019 world2020'</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/world\d+/g</span></span><br><span class="line">reg.exec(str) <span class="comment">// ["world2019", index: 10, input: "hello2020 world2019 world2020", groups: undefined]</span></span><br><span class="line">reg.exec(str) <span class="comment">// ["world2020", index: 20, input: "hello2020 world2019 world2020", groups: undefined]</span></span><br><span class="line">reg.exec(str) <span class="comment">// null</span></span><br><span class="line">reg.exec(str) <span class="comment">// ["world2019", index: 10, input: "hello2020 world2019 world2020", groups: undefined]</span></span><br></pre></td></tr></table></figure>

<h5 id="12-3-2-2-正则的lastIndex属性"><a href="#12-3-2-2-正则的lastIndex属性" class="headerlink" title="12.3.2.2 正则的lastIndex属性"></a><em>12.3.2.2 正则的<code>lastIndex</code>属性</em></h5><p>正则下一次匹配或捕获时开始的索引位置；正则捕获时，根据lastIndex属性的值开始往后查找，当匹配到最后一次的时候，后面就没有匹配的字符串时，返回null，同时lastIndex属性的值变成0，所以下一次再捕获时，又会从头开始查找；如此往复，像一个循环一样</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'hello2020 world2019 world2020'</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/world\d+/g</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.lastIndex) <span class="comment">// 0</span></span><br><span class="line">reg.exec(str) <span class="comment">// [...]</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.lastIndex) <span class="comment">// 19</span></span><br><span class="line">reg.exec(str) <span class="comment">// [...]</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.lastIndex) <span class="comment">// 29</span></span><br><span class="line">reg.exec(str) <span class="comment">// null</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.lastIndex) <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<h5 id="12-3-2-3-正则配合字符串的match方法"><a href="#12-3-2-3-正则配合字符串的match方法" class="headerlink" title="12.3.2.3 正则配合字符串的match方法"></a><em>12.3.2.3 正则配合字符串的match方法</em></h5><p>match方法使用的正则没有修饰符g的时候，match匹配的结果和正则的exec捕获的结果是一样的；但match方法使用的正则有修饰符g，会一次性把所有符合规则的都获取到；如果匹配不到返回null</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'hello2020 world2019 world2020'</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/world\d+/</span></span><br><span class="line"><span class="keyword">let</span> reg2 = <span class="regexp">/world\d+/g</span></span><br><span class="line"><span class="keyword">let</span> reg3 = <span class="regexp">/xxxx/g</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 不带修饰符g */</span></span><br><span class="line"><span class="keyword">let</span> r1 = str.match(reg) <span class="comment">// ["world2019", index: 10, input: "hello2020 world2019 world2020", groups: undefined]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 带修饰符g */</span></span><br><span class="line"><span class="keyword">let</span> r2 = str.match(reg2) <span class="comment">// ["world2019", "world2020"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 匹配不到的情况下 */</span></span><br><span class="line"><span class="keyword">let</span> r3 = str.match(reg3) <span class="comment">// null</span></span><br></pre></td></tr></table></figure>

<h5 id="12-3-2-4-正则捕获的贪婪性"><a href="#12-3-2-4-正则捕获的贪婪性" class="headerlink" title="12.3.2.4 正则捕获的贪婪性"></a><em>12.3.2.4 正则捕获的贪婪性</em></h5><p>正则在捕获的时候，一旦匹配，会按照最多的个数进行捕获</p>
<blockquote>
<p>解决方法：在量词元字符后面增加一个? ，就会按照最低的限度去捕获</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'1234567890'</span></span><br><span class="line"><span class="keyword">let</span> reg1 = <span class="regexp">/\d&#123;2,6&#125;/</span></span><br><span class="line"><span class="keyword">let</span> reg2 = <span class="regexp">/\d*/</span></span><br><span class="line"><span class="keyword">let</span> reg3 = <span class="regexp">/\d+/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> reg4 = <span class="regexp">/\d&#123;2,6&#125;?/</span></span><br><span class="line"><span class="keyword">let</span> reg5 = <span class="regexp">/\d*?/</span></span><br><span class="line"><span class="keyword">let</span> reg6 = <span class="regexp">/\d+?/</span></span><br><span class="line"><span class="built_in">console</span>.log(reg1.exec(str)) <span class="comment">// ["123456", index: 0, input: "1234567890", groups: undefined]</span></span><br><span class="line"><span class="built_in">console</span>.log(reg2.exec(str)) <span class="comment">// ["1234567890", index: 0, input: "1234567890", groups: undefined]</span></span><br><span class="line"><span class="built_in">console</span>.log(reg3.exec(str)) <span class="comment">// ["1234567890", index: 0, input: "1234567890", groups: undefined]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(reg4.exec(str)) <span class="comment">// ["12", index: 0, input: "1234567890", groups: undefined]</span></span><br><span class="line"><span class="built_in">console</span>.log(reg5.exec(str)) <span class="comment">// ["", index: 0, input: "1234567890", groups: undefined]</span></span><br><span class="line"><span class="built_in">console</span>.log(reg6.exec(str)) <span class="comment">// ["1", index: 0, input: "1234567890", groups: undefined]</span></span><br></pre></td></tr></table></figure>

<h5 id="12-3-2-5-分组捕获"><a href="#12-3-2-5-分组捕获" class="headerlink" title="12.3.2.5 分组捕获"></a><em>12.3.2.5 分组捕获</em></h5><p>( ) 正则分组 ；结合exec方法可以捕获分组内容</p>
<blockquote>
<p>正则捕获的内容是一个数组，数组的第一项是大正则捕获到的内容，从第二项开始，就是正则分组捕获到的内容，有几个分组，后面就有几项；捕获来的数组形如：[“大正则捕获的内容”,”分组1捕获”,”分组2捕获”….]</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'hello2020 world2019 world2020'</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/world\d+/g</span></span><br><span class="line"><span class="keyword">let</span> reg2 = <span class="regexp">/world(\d+)/g</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str)) <span class="comment">// ["world2019", index: 10, input: "hello2020 world2019 world2020", groups: undefined]</span></span><br><span class="line"><span class="built_in">console</span>.log(reg2.exec(str)) <span class="comment">// ["world2019", "2019", index: 10, input: "hello2020 world2019 world2020", groups: undefined]</span></span><br><span class="line"><span class="built_in">console</span>.log(reg2.exec(str)[<span class="number">1</span>]) <span class="comment">// 2019</span></span><br><span class="line"><span class="built_in">console</span>.log(reg2.exec(str)[<span class="number">1</span>]) <span class="comment">// 2020</span></span><br></pre></td></tr></table></figure>
<p>取消分组捕获：即该分组不捕获 <code>(?:)</code> ；取消分组捕获后，该匹配匹配，只是捕获时小分组里面的内容不必单独捕获</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'hello2020 world2019 world2020'</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/world(?:\d+)/g</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str)) <span class="comment">// ["world2019", index: 10, input: "hello2020 world2019 world2020", groups: undefined]</span></span><br></pre></td></tr></table></figure>
<p>字符串的match方法不会理会正则的分组，match方法的返回值没有分组捕获的内容</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'hello2020 world2019abc world2020xyz'</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/world(\d+)[a-z]&#123;3&#125;/g</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str)) <span class="comment">// ["world2019abc", "2019", index: 10, input: "hello2020 world2019abc world2020xyz", groups: undefined]</span></span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg)) <span class="comment">// ["world2019abc", "world2020xyz"]</span></span><br></pre></td></tr></table></figure>
<p><code>$&amp;</code>表示大正则捕获到的内容；<code>$1-$9</code>表示第一个到第九个分组捕获到的内容（大于九的分组需要通过索引的方式取）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'1213141516'</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/(\d&#123;2&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)/</span></span><br><span class="line"><span class="keyword">let</span> a = reg.exec(str)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">RegExp</span>[<span class="string">'$&amp;'</span>]) <span class="comment">// '1213141516'</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">RegExp</span>.$<span class="number">1</span>) <span class="comment">// '12'</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">RegExp</span>.$<span class="number">2</span>) <span class="comment">// '13'</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">RegExp</span>.$<span class="number">3</span>) <span class="comment">// '14'</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">RegExp</span>.$<span class="number">4</span>) <span class="comment">// '15'</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">RegExp</span>.$<span class="number">5</span>) <span class="comment">// '16'</span></span><br></pre></td></tr></table></figure>

<h3 id="12-4-正则简单应用"><a href="#12-4-正则简单应用" class="headerlink" title="12.4 正则简单应用"></a><em>12.4 正则简单应用</em></h3><h4 id="12-4-1-验证中国大陆手机号"><a href="#12-4-1-验证中国大陆手机号" class="headerlink" title="12.4.1 验证中国大陆手机号"></a><em>12.4.1 验证中国大陆手机号</em></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^1\d&#123;10&#125;$/</span></span><br></pre></td></tr></table></figure>
<h4 id="12-4-2-校验号段188-177-134-156-132-199"><a href="#12-4-2-校验号段188-177-134-156-132-199" class="headerlink" title="12.4.2 校验号段188 177 134 156 132 199"></a><em>12.4.2 校验号段188 177 134 156 132 199</em></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 校验号段让他人提供，不承担因发行新号段不能注册带来损失的责任</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^1(88|77|34|56|32|99)\d&#123;8&#125;$/</span></span><br></pre></td></tr></table></figure>
<h4 id="12-4-3-匹配尾号是豹子号（末尾连续三位相同）"><a href="#12-4-3-匹配尾号是豹子号（末尾连续三位相同）" class="headerlink" title="12.4.3 匹配尾号是豹子号（末尾连续三位相同）"></a><em>12.4.3 匹配尾号是豹子号（末尾连续三位相同）</em></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^1\d&#123;7&#125;(\d)\1&#123;2&#125;$/</span></span><br></pre></td></tr></table></figure>
<h4 id="12-4-4-匹配靓号（中间、末尾四位相同）"><a href="#12-4-4-匹配靓号（中间、末尾四位相同）" class="headerlink" title="12.4.4 匹配靓号（中间、末尾四位相同）"></a><em>12.4.4 匹配靓号（中间、末尾四位相同）</em></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^1\d&#123;2&#125;(\d)\1&#123;3&#125;(\d)\2&#123;3&#125;$/</span></span><br></pre></td></tr></table></figure>
<h4 id="12-4-5-验证有效数字"><a href="#12-4-5-验证有效数字" class="headerlink" title="12.4.5 验证有效数字"></a><em>12.4.5 验证有效数字</em></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^[+-]?(\d|[1-9]\d+)(\.\d+)?$/</span></span><br></pre></td></tr></table></figure>
<h4 id="12-4-6-验证一个数字是否在某一个范围内：23-68"><a href="#12-4-6-验证一个数字是否在某一个范围内：23-68" class="headerlink" title="12.4.6 验证一个数字是否在某一个范围内：23-68"></a><em>12.4.6 验证一个数字是否在某一个范围内：23-68</em></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^(2[3-9]|[3-5]\d|6[0-8])$/</span></span><br></pre></td></tr></table></figure>
<h4 id="12-4-7-匹配中文姓名（2-4位）"><a href="#12-4-7-匹配中文姓名（2-4位）" class="headerlink" title="12.4.7 匹配中文姓名（2-4位）"></a><em>12.4.7 匹配中文姓名（2-4位）</em></h4><p>中文的Unicode范围：\u4e00-\u9fa5</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^[\u4e00-\u9fa5]&#123;2,4&#125;$/</span></span><br></pre></td></tr></table></figure>
<h4 id="12-4-8-邮箱验证（简单验证：包含雅虎、新浪、谷歌、网易、qq）"><a href="#12-4-8-邮箱验证（简单验证：包含雅虎、新浪、谷歌、网易、qq）" class="headerlink" title="12.4.8 邮箱验证（简单验证：包含雅虎、新浪、谷歌、网易、qq）"></a><em>12.4.8 邮箱验证（简单验证：包含雅虎、新浪、谷歌、网易、qq）</em></h4><blockquote>
<p>数字、字母、下划线 （只能以字母开头） @ 数字、字母、-  .com（.com.cn）</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^[a-zA-Z0-9]\w+@[a-zA-Z0-9]+(-[a-zA-Z0-9]+)?(\.[a-z]+)&#123;1,2&#125;$/</span></span><br><span class="line">reg.test(<span class="string">'1610@qq-134.com.sdf'</span>)</span><br></pre></td></tr></table></figure>
<p><strong>适用性比较强的邮箱验证正则</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/^(([^&lt;&gt;()\[\]\\.,;:\s@"]+(\.[^&lt;&gt;()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]&#123;2,&#125;))$/</span>;</span><br></pre></td></tr></table></figure>
<h4 id="12-4-9-首字母小写转大写"><a href="#12-4-9-首字母小写转大写" class="headerlink" title="12.4.9 首字母小写转大写"></a><em>12.4.9 首字母小写转大写</em></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'my name is edsyang , i am 22 years old'</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/\b([a-z])([a-z]*)\b/g</span></span><br><span class="line"><span class="keyword">let</span> str2 = str.replace(reg, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">arguments</span>[<span class="number">1</span>].toUpperCase() + <span class="built_in">arguments</span>[<span class="number">2</span>]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="12-4-10-数字转大写"><a href="#12-4-10-数字转大写" class="headerlink" title="12.4.10 数字转大写"></a><em>12.4.10 数字转大写</em></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'零壹贰叁肆伍陆柒捌玖'</span></span><br><span class="line"><span class="keyword">let</span> str2 = <span class="string">'15364124551320'</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/\d/g</span></span><br><span class="line"><span class="keyword">let</span> str3 = str2.replace(reg, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str[<span class="built_in">arguments</span>[<span class="number">0</span>]]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="12-4-11-数字加千分符"><a href="#12-4-11-数字加千分符" class="headerlink" title="12.4.11 数字加千分符"></a><em>12.4.11 数字加千分符</em></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'45679841351321864.21321'</span> </span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/(\d&#123;1,3&#125;)(?=(\d&#123;3&#125;)+(?:$|\.))/g</span></span><br><span class="line"><span class="keyword">let</span> str2 = str.replace(reg, <span class="string">"$1,"</span>)</span><br></pre></td></tr></table></figure>

<h3 id="12-5-正则高级应用"><a href="#12-5-正则高级应用" class="headerlink" title="12.5 正则高级应用"></a><em>12.5 正则高级应用</em></h3><h4 id="12-5-1-正则结合字符串的replace方法使用"><a href="#12-5-1-正则结合字符串的replace方法使用" class="headerlink" title="12.5.1 正则结合字符串的replace方法使用"></a><em>12.5.1 正则结合字符串的replace方法使用</em></h4><blockquote>
<p>需求：把world转换成汉字’世界’</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">'world2018 world2019 world2020'</span></span><br><span class="line"><span class="comment">/* let r = str.replace('world','世界') </span></span><br><span class="line"><span class="comment">console.log(r) // '世界2018 world2019 world2020' 这样执行一次只能替换一个 */</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/world/g</span></span><br><span class="line"><span class="keyword">let</span> i = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> r2 = str.replace(reg, <span class="function"><span class="keyword">function</span>(<span class="params">...arg</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 正则能够在字符串中匹配多少个，这个回调函数就会执行几次</span></span><br><span class="line">    <span class="comment">// 用回调函数的返回值去替换捕获到的内容</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 在替换的过程中，回调函数会接受到几个参数</span></span><br><span class="line">    <span class="comment">// 第一个：大正则捕获到的内容</span></span><br><span class="line">    <span class="comment">// 如果有分组从第二个参数开始就是分组捕获到的内容</span></span><br><span class="line">    <span class="comment">// 倒数第二个是捕获到的索引位置</span></span><br><span class="line">    <span class="comment">// 倒数第一个是原始字符串</span></span><br><span class="line">    i++ </span><br><span class="line">    <span class="built_in">console</span>.log(arg)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'世界'</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(i) <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(r2) <span class="comment">// '世界2018 世界2019 世界2020'</span></span><br></pre></td></tr></table></figure>

<h4 id="12-5-2-格式化时间字符串"><a href="#12-5-2-格式化时间字符串" class="headerlink" title="12.5.2 格式化时间字符串"></a><em>12.5.2 格式化时间字符串</em></h4><p>根据给定的时间模板，把时间字符串格式化</p>
<blockquote>
<p>需求：’2019/6/12 12:38:23’ -&gt; ‘2019年06月12日 12时38分23秒’</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 模板：</span></span><br><span class="line"><span class="comment">    '&#123;0&#125;年&#123;1&#125;月&#123;2&#125;日 &#123;3&#125;时&#123;4&#125;分&#123;5&#125;秒'</span></span><br><span class="line"><span class="comment">    '&#123;0&#125;-&#123;1&#125;-&#123;2&#125; &#123;3&#125;-&#123;4&#125;-&#123;5&#125;'  </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 用正则把时间字符串中的数字都取出来</span></span><br><span class="line"><span class="keyword">let</span> timeStr = <span class="string">'2019/6/12 12:38:23'</span></span><br><span class="line"><span class="keyword">let</span> tmpStr = <span class="string">'&#123;0&#125;年&#123;1&#125;月&#123;2&#125;日 &#123;3&#125;时&#123;4&#125;分&#123;5&#125;秒'</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/\d+/g</span></span><br><span class="line"><span class="keyword">let</span> timeAry = timeStr.match(reg)</span><br><span class="line"><span class="comment">// 2. 把小于10的数字补0</span></span><br><span class="line"><span class="keyword">let</span> timeAry2 = timeAry.map(<span class="function"><span class="params">item</span> =&gt;</span> item &lt; <span class="number">10</span> ? <span class="string">'0'</span> + item : item)</span><br><span class="line"><span class="comment">// 3. 利用正则把模板中的占位符替换成时间数字</span></span><br><span class="line"><span class="keyword">let</span> reg2 = <span class="regexp">/\&#123;(\d)\&#125;/g</span> <span class="comment">// 要使用&#123;&#125;的原义，所以需要转义，因为&#123;&#125;是用来写量词元字符的</span></span><br><span class="line"><span class="keyword">let</span> timeResult = tmpStr.replace(reg2, <span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// console.log(a, b) // &#123;0&#125; 0 ；&#123;1&#125; 1 ；&#123;2&#125; 2 ... ；&#123;5&#125; 5</span></span><br><span class="line">    <span class="comment">// debugger 断点，当代码执行到这里的时候会停在这里</span></span><br><span class="line">    <span class="comment">// 这个回调函数的参数：第一个是大正则捕获到的内容，第二个是正则第一个分组捕获的内容</span></span><br><span class="line">    <span class="comment">// 正则能够捕获不多少次，这个回调函数就会执行多少次，每次执行之后会把捕获到的内容传给回调函数；回调函数的第一个参数是整个大正则捕获到的内容，如果正则有分组，从第二项开始就是分组捕获的内容</span></span><br><span class="line">    <span class="keyword">return</span> timeAry2[b]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(timeResult)</span><br><span class="line"><span class="comment">// 4. 将此方法扩展到原型上</span></span><br><span class="line"><span class="built_in">String</span>.prototype.myFormatTime = <span class="function"><span class="keyword">function</span> (<span class="params">tmp = <span class="string">'&#123;0&#125;年&#123;1&#125;月&#123;2&#125;日 &#123;3&#125;时&#123;4&#125;分&#123;5&#125;秒'</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> reg = <span class="regexp">/\d+/g</span></span><br><span class="line">    <span class="comment">// 第一步：把时间数字捕获到</span></span><br><span class="line">    <span class="keyword">let</span> timeAry = <span class="keyword">this</span>.match(reg).map(<span class="function"><span class="params">item</span> =&gt;</span> item &lt; <span class="number">10</span> ? <span class="string">'0'</span> + item : item)</span><br><span class="line">    <span class="keyword">let</span> reg2 = <span class="regexp">/\&#123;(\d)\&#125;/g</span></span><br><span class="line">    <span class="keyword">return</span> tmp.replace(reg2, (big, index) =&gt; timeAry[index])</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"2019/6/12 12:38:23"</span>.myFormatTime(<span class="string">'&#123;3&#125;:&#123;4&#125;:&#123;5&#125;'</span>))</span><br></pre></td></tr></table></figure>

<h4 id="12-5-3-url查询参数序列化（格式化）"><a href="#12-5-3-url查询参数序列化（格式化）" class="headerlink" title="12.5.3 url查询参数序列化（格式化）"></a><em>12.5.3 url查询参数序列化（格式化）</em></h4><p>url后面?key=value&amp;key2=value2&amp;key3=value3叫做url参数，也叫查询字符串、问号传参</p>
<blockquote>
<p>需求：把url的查询字符串中key和value存到对象中 {name:’mars’, age: 18, address: ‘hebei’}</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 方便理解但方法繁杂</span></span><br><span class="line"><span class="keyword">let</span> url = <span class="string">'https://www.baidu.com/s?name=mars&amp;age=18&amp;address=hebei'</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/([^?=&amp;]+)=([^?=&amp;]+)/g</span></span><br><span class="line"><span class="keyword">let</span> urlAry = url.match(reg)</span><br><span class="line"><span class="keyword">let</span> params = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span> ; i &lt; urlAry.length ; i++)&#123;</span><br><span class="line">    <span class="keyword">let</span> item = urlAry[i]</span><br><span class="line">    <span class="keyword">let</span> itemAry = item.split(<span class="string">'='</span>) <span class="comment">// 按照=把字符串拆分成一个数组，数组的第一项就是key，第二项就是value</span></span><br><span class="line">    params[itemAry[<span class="number">0</span>]] = itemAry[<span class="number">1</span>] <span class="comment">// 位params添加对象</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(params)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 不容易理解但方法简洁</span></span><br><span class="line"><span class="keyword">let</span> url = <span class="string">'https://www.baidu.com/s?name=mars&amp;age=18&amp;address=hebei'</span></span><br><span class="line"><span class="keyword">let</span> params = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/([^?=&amp;]+)=([^?=&amp;]+)/g</span>;</span><br><span class="line">url.replace(reg, (str, key, value) =&gt; params[key] = value);</span><br><span class="line"><span class="built_in">console</span>.log(params);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 将此方法扩展到原型上（方便理解但方法繁杂）</span></span><br><span class="line"><span class="built_in">String</span>.prototype.querySeries = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 现在这个方法在字符串的圆形上，this代表需要被格式化的字符串</span></span><br><span class="line">    <span class="comment">// 1）利用正则把需要的部分从字符串中捕获到</span></span><br><span class="line">    <span class="keyword">let</span> reg = <span class="regexp">/([^?=&amp;]+)=([^?=&amp;]+)/g</span></span><br><span class="line">    <span class="keyword">let</span> urlAry = <span class="keyword">this</span>.match(reg)</span><br><span class="line">    <span class="comment">// 2）声明一个对象，准备接受查询字符串中的key和value</span></span><br><span class="line">    <span class="keyword">let</span> params = &#123;&#125;</span><br><span class="line">    <span class="comment">// 3）遍历urlAry，在遍历的过程中把数组项拆分成数组，这个拆出来的数组第一项是key，第二项是value；</span></span><br><span class="line">    urlAry.forEach(<span class="function">(<span class="params">item</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> [key, value] = item.split(<span class="string">'='</span>)</span><br><span class="line">        params[key] = value</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> params</span><br><span class="line">&#125;</span><br><span class="line">url.querySeries() <span class="comment">// &#123;name:'mars', age: 18, address: 'hebei'&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 将此方法扩展到原型上（不易理解但方法简单）</span></span><br><span class="line"><span class="built_in">String</span>.prototype.querySeries = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> pramas = &#123;&#125;</span><br><span class="line">    <span class="keyword">let</span> reg = <span class="regexp">/([^?=&amp;$]+)=([^?=&amp;$]+)/g</span></span><br><span class="line">    <span class="keyword">this</span>.replace(reg, (str, key, value) =&gt; pramas[key] = value)</span><br><span class="line">    <span class="keyword">return</span> pramas</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> result = url.querySeries()</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br></pre></td></tr></table></figure>

<h2 id="16-数据类型检测"><a href="#16-数据类型检测" class="headerlink" title="16. 数据类型检测"></a><em>16. 数据类型检测</em></h2><p>Object.prototype.toString.call() 检测数据类型准，但返回值不太友好</p>
<p>优化：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.isTypeOf = <span class="function"><span class="keyword">function</span> (<span class="params">val</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 1. 给传进来的val进行数据类型检测</span></span><br><span class="line">    <span class="keyword">let</span> result = <span class="built_in">Object</span>.prototype.toString.call(val)</span><br><span class="line">    <span class="comment">// 2. 用一个正则把需要的代表类型的字符串获取到</span></span><br><span class="line">    <span class="keyword">let</span> reg = <span class="regexp">/^\[object ([a-zA-Z]+)\]$/</span></span><br><span class="line">    <span class="keyword">let</span> [,catches] = reg.exec(result) <span class="comment">// 从捕获结果中把类型字符串解构出来</span></span><br><span class="line">    <span class="comment">// 3. 把上一步得到的代表类型的字符串返回</span></span><br><span class="line">    <span class="keyword">return</span> catches</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isTypeOf(<span class="number">1</span>)) <span class="comment">// Number</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isTypeof(<span class="literal">true</span>)) <span class="comment">// Boolean</span></span><br></pre></td></tr></table></figure><!-- flag of hidden posts --></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:edsyang1102@gmail.com">Edsyang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://blog.lagerstroemia.com.cn/2019/07/20/course/origin/06-Chapter%20Four-D.part%20four/">http://blog.lagerstroemia.com.cn/2019/07/20/course/origin/06-Chapter%20Four-D.part%20four/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://blog.lagerstroemia.com.cn" target="_blank">Edsyang</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JS-Notes/">JS Notes</a></div><div class="post_share"><div class="social-share" data-image="https://tva1.sinaimg.cn/large/0081Kckwly1gkrf2rz04kj30m00ffq3z.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.png" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.png" alt="支付宝"/><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var requestSetting = function (from,set) {
  var from = from
  var setting = set.split(',').filter(function(item){
  return from.indexOf(item) > -1
  });
  setting = setting.length == 0 ? from :setting;
  return setting
}

var guestInfo = requestSetting(['nick','mail','link'],'nick,mail,link')
var requiredFields = requestSetting(['nick','mail','link'],'nick,mail')

window.valine = new Valine({
  el:'#vcomment',
  appId: 'WgFk4Onl7sisfXpq9vHcehGJ-gzGzoHsz',
  appKey: '3DLR7iLY5al5dbIdo9kWnDHU',
  notify: false,
  verify: false,
  placeholder: 'Please leave your footprints',
  avatar: 'monsterid',
  meta: guestInfo,
  pageSize: '10',
  lang: 'en',
  recordIP: false,
  serverURLs: '',
  emojiCDN: '',
  emojiMaps: "",
  enableQQ: true,
  requiredFields: requiredFields
});</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2021 By Edsyang</div><div class="framework-info"><span>Driven </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="icp"><a href="http://www.beian.miit.gov.cn/" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"/><span>冀ICP备19038398号</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script src="/js/search/local-search.js"></script></body></html>