<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>原生JS - Chapter Six.A | Edsyang</title><meta name="robots" content="noindex"><meta name="description" content="1. 定时器设置一个定时器，还要有一个时间间隔，等到了时间间隔，浏览器就会把定时器的回调函数执行  常用的定时器： 都是挂载在window上的方法  window.setTimeout(callback, interval) 到达interval时间后就执行一次callback；也称为【超时调用】 callback：回调函数 interval：时间间隔12345let n &#x3D; 0setTimeou"><meta name="keywords" content="JS Notes"><meta name="author" content="Edsyang,1966861494@qq.com"><meta name="copyright" content="Edsyang"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.svg"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="原生JS - Chapter Six.A"><meta name="twitter:description" content="1. 定时器设置一个定时器，还要有一个时间间隔，等到了时间间隔，浏览器就会把定时器的回调函数执行  常用的定时器： 都是挂载在window上的方法  window.setTimeout(callback, interval) 到达interval时间后就执行一次callback；也称为【超时调用】 callback：回调函数 interval：时间间隔12345let n &#x3D; 0setTimeou"><meta name="twitter:image" content="https://tva1.sinaimg.cn/large/007S8ZIlly1gegal5ikmoj30u00xpe81.jpg"><meta property="og:type" content="article"><meta property="og:title" content="原生JS - Chapter Six.A"><meta property="og:url" content="http://blog.lagerstroemia.com.cn/2019/07/20/course/origin/08-Chapter%20Six-A.part%20one/"><meta property="og:site_name" content="Edsyang"><meta property="og:description" content="1. 定时器设置一个定时器，还要有一个时间间隔，等到了时间间隔，浏览器就会把定时器的回调函数执行  常用的定时器： 都是挂载在window上的方法  window.setTimeout(callback, interval) 到达interval时间后就执行一次callback；也称为【超时调用】 callback：回调函数 interval：时间间隔12345let n &#x3D; 0setTimeou"><meta property="og:image" content="https://tva1.sinaimg.cn/large/007S8ZIlly1gegal5ikmoj30u00xpe81.jpg"><meta property="article:published_time" content="2019-07-20T03:38:34.722Z"><meta property="article:modified_time" content="2020-05-18T16:05:27.548Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://blog.lagerstroemia.com.cn/2019/07/20/course/origin/08-Chapter%20Six-A.part%20one/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: {"languages":{"author":"作者: Edsyang","link":"链接: ","source":"来源: Edsyang","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: true,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Edsyang" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">112</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">7</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">37</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-定时器"><span class="toc-number">1.</span> <span class="toc-text">1. 定时器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-同步和异步"><span class="toc-number">2.</span> <span class="toc-text">2. 同步和异步</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-常见的异步情形"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 常见的异步情形</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-浏览器实现异步的原理"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 浏览器实现异步的原理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-回调函数-callback"><span class="toc-number">3.</span> <span class="toc-text">3. 回调函数 - callback</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-回调函数在宿主函数中的行为（特点）"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 回调函数在宿主函数中的行为（特点）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-异步的AJAX"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 异步的AJAX</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Promise"><span class="toc-number">4.</span> <span class="toc-text">4. Promise</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-Promise实例（对象）的三种状态"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 Promise实例（对象）的三种状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-回调函数在创建Promise实例的时候会同步执行"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 回调函数在创建Promise实例的时候会同步执行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-Promise如何管理异步"><span class="toc-number">4.3.</span> <span class="toc-text">4.3 Promise如何管理异步</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-Promise处理AJAX请求数据"><span class="toc-number">4.4.</span> <span class="toc-text">4.4 Promise处理AJAX请求数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-jQuery"><span class="toc-number">5.</span> <span class="toc-text">5. jQuery</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-jQuery选择器（获取元素对象）"><span class="toc-number">5.1.</span> <span class="toc-text">5.1 jQuery选择器（获取元素对象）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-1-基本选择器"><span class="toc-number">5.1.1.</span> <span class="toc-text">5.1.1 基本选择器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-2-层级选择器"><span class="toc-number">5.1.2.</span> <span class="toc-text">5.1.2 层级选择器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-1-3-过滤选择器"><span class="toc-number">5.1.3.</span> <span class="toc-text">5.1.3 过滤选择器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-jQuery对象与原生对象及互转"><span class="toc-number">5.2.</span> <span class="toc-text">5.2 jQuery对象与原生对象及互转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-jQuery常用的方法"><span class="toc-number">5.3.</span> <span class="toc-text">5.3 jQuery常用的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-jQuery事件绑定"><span class="toc-number">5.4.</span> <span class="toc-text">5.4 jQuery事件绑定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-jQuery的动画效果"><span class="toc-number">5.5.</span> <span class="toc-text">5.5 jQuery的动画效果</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-5-1-animate"><span class="toc-number">5.5.1.</span> <span class="toc-text">5.5.1 animate()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-5-2-stop"><span class="toc-number">5.5.2.</span> <span class="toc-text">5.5.2 stop()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-5-3-finish"><span class="toc-number">5.5.3.</span> <span class="toc-text">5.5.3 finish()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-5-4-show-hide"><span class="toc-number">5.5.4.</span> <span class="toc-text">5.5.4 show() &#x2F; hide()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-5-5-slideUp-slideDown"><span class="toc-number">5.5.5.</span> <span class="toc-text">5.5.5 slideUp() &#x2F; slideDown()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-5-6-fadeIn-fadeOut"><span class="toc-number">5.5.6.</span> <span class="toc-text">5.5.6 fadeIn() &#x2F; fadeOut()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-jQuery中的AJAX"><span class="toc-number">5.6.</span> <span class="toc-text">5.6 jQuery中的AJAX</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7-jQuery中的each方法"><span class="toc-number">5.7.</span> <span class="toc-text">5.7 jQuery中的each方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#5-7-1-遍历一个数组"><span class="toc-number">5.7.1.</span> <span class="toc-text">5.7.1 遍历一个数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-7-2-遍历一个对象"><span class="toc-number">5.7.2.</span> <span class="toc-text">5.7.2 遍历一个对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-7-3-jQuery隐式调用each方法"><span class="toc-number">5.7.3.</span> <span class="toc-text">5.7.3 jQuery隐式调用each方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-7-4-类数组集合（jq对象）"><span class="toc-number">5.7.4.</span> <span class="toc-text">5.7.4 类数组集合（jq对象）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-8-jQuery的选项卡"><span class="toc-number">5.8.</span> <span class="toc-text">5.8 jQuery的选项卡</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://tva1.sinaimg.cn/large/007S8ZIlly1gegal5ikmoj30u00xpe81.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Edsyang</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">原生JS - Chapter Six.A</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2019-07-20 03:38:34"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2019-07-20</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-05-18 16:05:27"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-05-18</span></time></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="post-meta__icon fa fa-file-word-o" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">7k</span><span class="post-meta__separator">|</span><i class="post-meta__icon fa fa-clock-o" aria-hidden="true"></i><span>阅读时长: 26 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h2 id="1-定时器"><a href="#1-定时器" class="headerlink" title="1. 定时器"></a><em>1. 定时器</em></h2><p>设置一个定时器，还要有一个时间间隔，等到了时间间隔，浏览器就会把定时器的回调函数执行 </p>
<p><strong>常用的定时器：</strong></p>
<p>都是挂载在window上的方法</p>
<ul>
<li><code>window.setTimeout(callback, interval)</code> 到达interval时间后就执行一次callback；也称为【超时调用】<ul>
<li>callback：回调函数</li>
<li>interval：时间间隔<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> n = <span class="number">0</span></span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    n++</span><br><span class="line">    <span class="built_in">console</span>.log(n)</span><br><span class="line">}, <span class="number">1000</span>)</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
</li>
<li><code>window.setInterval(callback, interval)</code> 每隔interval时间就执行一次callback；也称为【间歇调用】<ul>
<li>callback：回调函数</li>
<li>interval：时间间隔<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setInterval(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'abc'</span>)</span><br><span class="line">}, <span class="number">1000</span>)</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
</li>
</ul>
<p><strong>定时器的返回值</strong></p>
<ul>
<li>setTimeout、setInterval的返回值是定时器id（一个数字，每次返回的定时器id和之前的都不会重复）</li>
</ul>
<p><strong>清除定时器</strong></p>
<ul>
<li>清除定时器：clearTimeout() / clearInterval() ；需要定时器ID，清除指定id的定时器；只要定时器被清除，不管是否发挥作用（执行过回调函数），就不会再有任何作用（定时器里面的回调函数就再也不会执行了）<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> timer1 = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'setTimeout'</span>)</span><br><span class="line">}, <span class="number">3000</span>)</span><br><span class="line">clearTimeout(timer1)</span><br><span class="line">--------------------</span><br><span class="line"><span class="keyword">let</span> timer2 = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'setInterval'</span>)</span><br><span class="line">}, <span class="number">1000</span>)</span><br><span class="line">clearInterval(timer2)</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>思考题</p>
</blockquote>
</li>
</ul>
<ul>
<li>考点：setInterval() 在执行时传递实参，如果传了一个变量并且这个变量代表的是一个基本数据类型的值，直接把这个值传给函数；如果变量代表的是一个引用数据类型，则是把堆内存地址传给函数<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 因为变量t代表的是一个基本数据类型的值，所以值是直接传给函数的，之后再更改这个变量的值对函数内已经传的值不产生影响。最后的打印的间隔仍然是100</span></span><br><span class="line"><span class="keyword">let</span> t = <span class="number">100</span></span><br><span class="line">setInterval(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'xyz'</span>)</span><br><span class="line">}, t)</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    t = <span class="number">5000</span></span><br><span class="line">}, <span class="number">50</span>)</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h2 id="2-同步和异步"><a href="#2-同步和异步" class="headerlink" title="2. 同步和异步"></a><em>2. 同步和异步</em></h2><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> n = <span class="number">0</span></span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    n++</span><br><span class="line">}, <span class="number">1000</span>)</span><br><span class="line"><span class="built_in">console</span>.log(n) <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(n) <span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 这就说明console.log(n)并没有等着上面的定时器执行，因为如果等了定时器执行，n就会变成1，可第一次的输出结果是0，所以证明没有等着定时器执行</span></span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(n) <span class="comment">// 1 因为n++在它之前执行过了</span></span><br><span class="line">}, <span class="number">2000</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>JS在执行的时候，浏览器会把代码分为同步执行任务和异步执行任务</p>
<pre><code>1. 同步任务：当前任务是按顺序执行，如果当前这个任务没有完成，下一个任务不能开始
2. 异步任务：当前任务需要过一段时间或者执行时机不确定（定时器里面的回调函数就是过一段时间才会执行；事件就是执行时机不确定），浏览器不会等着这件事情完成，而是先把这些任务记录在一个地方（等待任务队列），继续执行后面的任务，等把所有的同步任务都执行完之后再去看这些异步任务</code></pre><h3 id="2-1-常见的异步情形"><a href="#2-1-常见的异步情形" class="headerlink" title="2.1 常见的异步情形"></a><em>2.1 常见的异步情形</em></h3><ul>
<li>1.定时器的回调函数都是异步执行</li>
<li>2.所有的事件函数都是异步执行</li>
<li>3.AJAX 的异步情形：open的第三个参数是true就是异步</li>
<li>4.回调函数也可以是异步执行</li>
</ul>
<blockquote>
<p>异步编程：编写异步处理程序；JS语言最大的特色就是<strong>异步和事件机制</strong></p>
</blockquote>
<h3 id="2-2-浏览器实现异步的原理"><a href="#2-2-浏览器实现异步的原理" class="headerlink" title="2.2 浏览器实现异步的原理"></a><em>2.2 浏览器实现异步的原理</em></h3><p>JS是一种单线程的编程语言，它一次只能干一件事；能够实现异步，依赖于<strong>浏览器的任务队列机制</strong>；任务队列分为两种：</p>
<ul>
<li>主任务队列：主任务队列中放的都是当前需要立即执行的同步任务</li>
<li>等待任务队列：等待任务队列中放的都是不需要立即执行的异步任务，等待任务队列只负责记录异步任务是否满足条件，满足条件会将其再放到主任务队列中执行</li>
</ul>
<p>首先执行主任务队列中的同步任务，当主任务队列中的同步任务【都执行完成后】，再去等待任务队列看看哪些异步任务满足条件、可以执行了（等待任务队列中的任务满足了执行条件，例如定时器的时间）就执行，如果有多个任务都满足条件，那么看谁先满足执行条件就先执行谁</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">123</span>)</span><br><span class="line">}, <span class="number">1000</span>)</span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) {} <span class="comment">// while(true){} 是同步任务，死循环。永远执行不完，就是主任务队列中任务永远执行不完，就永远不会执行等待任务队列中的任务；即使是过了1s，123也无法打印出来</span></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>冒烟测试：测试主流程和主要功能，保证其通畅性；冒烟测试通过的是一个基本的准入标准</p>
</blockquote>
<blockquote>
<p>练习：这些数字的输出顺序</p>
</blockquote>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">1</span>);</span><br><span class="line">}, <span class="number">2000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">}, <span class="number">3000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">4</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> { <span class="comment">// 虽然等待时间为0，但仍然是异步任务（等待任务队列）</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">10</span>)</span><br><span class="line">}, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">9999999</span>; i++) {}</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">6</span>)</span><br><span class="line">}, <span class="number">1400</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">7</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">8</span>)</span><br><span class="line">}, <span class="number">1500</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">9</span>);</span><br><span class="line"><span class="comment">// 输出顺序：2 4 5 7 9 10 6 8 1 3</span></span><br><span class="line"><span class="comment">// 先将同步任务执行，再看异步任务 - 按满足条件的先后排序</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>setTimeout(callback, 0) -&gt; 定时器的时间写0，也是异步执行；所有的定时器（定时器的回调函数）都是异步任务。即使写0，也需要把主任务队列中的同步任务执行完，才去执行它，既使是主任务队列中的时间（用的无论多少），也是需要时间的，这个时间叫定时器的最小反应时间，如果设置的时间比这个值还小，定时器最后使用的其实是最小反应时间（这个时间和硬件及操作系统有关）<ul>
<li>当主任务队列中的任务从上到下执行时，遇到一个异步任务，浏览器不会等着这些异步任务执行，而是先把它们添加到等待任务队列中排队</li>
<li>当主任务队列的任务执行完成后，才会去等待任务队列（如果主任务队列中的任务执行不完，即使等待任务队列中的任务到时间了，也不会执行）</li>
<li>等待任务队列中谁先满足执行条件（如果有多个，谁先道德就先执行谁），就把这个任务放到主任务队列中执行它，等执行完后再去等待任务找…</li>
</ul>
</li>
</ul>
<h2 id="3-回调函数-callback"><a href="#3-回调函数-callback" class="headerlink" title="3. 回调函数 - callback"></a><em>3. 回调函数 - callback</em></h2><p>把一个函数A当作实参传给函数B；此时A叫做回调函数（A是实参），B称为宿主函数</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    id: <span class="number">12</span></span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> fn = <span class="function">(<span class="params">callback</span>) =&gt;</span> {</span><br><span class="line">    <span class="comment">// callback是形参，形参是变量，用来存储值和代表值的；形参都是用来代表实参的，所以操作形参就是在操作形参代表的值</span></span><br><span class="line">    <span class="comment">// 1. 回调函数可以执行无限次，并且可以根据需要传实参</span></span><br><span class="line">    callback(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">    callback(<span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">    callback(<span class="number">4</span>, <span class="number">8</span>)</span><br><span class="line">    <span class="comment">// 2. 修改回调函数的this指向</span></span><br><span class="line">    callback.call(obj, <span class="number">8</span>, <span class="number">10</span>) </span><br><span class="line">    <span class="comment">// 3. 获取这个回调函数的返回结果</span></span><br><span class="line">    <span class="keyword">let</span> res = callback(<span class="number">10</span>, <span class="number">15</span>) </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'res is'</span>, res)</span><br><span class="line">    <span class="comment">// 4. 在宿主函数中，回调函数还可以异步执行</span></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">        callback(<span class="string">'x'</span>, <span class="string">'y'</span>)</span><br><span class="line">    }, <span class="number">3000</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">fn(<span class="function"><span class="keyword">function</span>(<span class="params">n, m</span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(n, m)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>)</span><br><span class="line">    <span class="keyword">return</span> n + m</span><br><span class="line">}) <span class="comment">// 此时小括号里面的function就是回调函数，fn就是宿主函数</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="3-1-回调函数在宿主函数中的行为（特点）"><a href="#3-1-回调函数在宿主函数中的行为（特点）" class="headerlink" title="3.1 回调函数在宿主函数中的行为（特点）"></a><em>3.1 回调函数在宿主函数中的行为（特点）</em></h3><ul>
<li>1.回调函数可以根据宿主函数的需要无限次执行</li>
<li>2.回调函数不仅可以执行，还可以在宿主函数中执行的时后传递实参，但是需要回调函数设置 <code>形参/使用arguments/不定参数</code>接收即可</li>
<li>3.在宿主函数中可以通过call修改回调函数中的this指向</li>
<li>4.在宿主函数中还可以接收回调函数的返回值</li>
<li>5.在宿主函数中，回调函数还可以异步执行；在没有Promise和async/await以及Generator函数以前，都是用回调函数解决异步问题</li>
</ul>
<h3 id="3-2-异步的AJAX"><a href="#3-2-异步的AJAX" class="headerlink" title="3.2 异步的AJAX"></a><em>3.2 异步的AJAX</em></h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> value = <span class="literal">null</span> <span class="comment">// 接收数据</span></span><br><span class="line"><span class="keyword">let</span> xhr = <span class="keyword">new</span> XMLHttpRequset()</span><br><span class="line">xhr.open(<span class="string">'GET'</span>, <span class="string">'json/data.json'</span>, <span class="literal">true</span>)</span><br><span class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="keyword">if</span>(xhr.readyState === <span class="number">4</span> &amp;&amp; xhr.status === <span class="number">200</span>){</span><br><span class="line">        value = <span class="built_in">JSON</span>.parse(xhr.responseText)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">xhr.send()</span><br><span class="line"><span class="built_in">console</span>.log(value) <span class="comment">// value的值是null，因为AJAX现在是异步的，在同步的里面无法拿到AJAX的数据（不会等着AJAX执行完后再执行console.log(value)这一行）</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>异步的AJAX解决方案</strong></p>
<ol>
<li>使用回调函数解决：要使用回调函数首先要创建函数，并且实参需要传函数；</li>
</ol>
<p>思想：异步的AJAX获取的数据，在同步任务中是无法获取的；而回调函数又可以异步执行，所以把拿到的数据以后的操作放到一个函数（bindHTML）中，把这个函数传给AJAX方法，此时bindHTML就成为AJAX的回调函数，AJAX就可以在请求结束后调用回调函数</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ajax</span>(<span class="params">callback</span>)</span>{</span><br><span class="line">    <span class="keyword">let</span> value = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">let</span> xhr = <span class="keyword">new</span> XMLHttpRequset()</span><br><span class="line">    xhr.open(<span class="string">'GET'</span>, <span class="string">'json/data.json'</span>, <span class="literal">true</span>)</span><br><span class="line">    xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">if</span>(xhr.readyState === <span class="number">4</span> &amp;&amp; xhr.status === <span class="number">200</span>){</span><br><span class="line">            value = <span class="built_in">JSON</span>.parse(xhr.responseText)</span><br><span class="line">            <span class="comment">// callback就是bindHTML，value是实参，传递给bindHTML的形参data</span></span><br><span class="line">            callback(value) <span class="comment">// 在这里执行回调函数，并且把ajax拿到的数据作为实参传递给回调函数，此时回调函数执行的时候就能拿到ajax获取到的数据</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    xhr.send()</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindHTML</span>(<span class="params">data</span>)</span>{</span><br><span class="line">    <span class="comment">// 绑定数据</span></span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">``</span></span><br><span class="line">    data.forEach(<span class="function">(<span class="params">item,index</span>) =&gt;</span> {</span><br><span class="line">        str += <span class="string">`&lt;div&gt;id,name&lt;/div&gt;`</span></span><br><span class="line">        <span class="keyword">let</span> wrapper = <span class="built_in">document</span>.getElementById(<span class="string">'wrapper'</span>)</span><br><span class="line">        wrapper.innerHTML = str</span><br><span class="line">    })</span><br><span class="line">}</span><br><span class="line">ajax(bindHTML)</span><br><span class="line"><span class="comment">// bindHTML() // bindHTML()是同步任务，在这里执行拿不到数据</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="4-Promise"><a href="#4-Promise" class="headerlink" title="4. Promise"></a><em>4. Promise</em></h2><p>ES6新增的一个类（函数）- new Promise() ，用来<strong>管理</strong>JS中的异步编程</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>{</span><br><span class="line">    <span class="comment">// 在这个回调函数中处理异步（把异步的东西写到这个回调函数中）</span></span><br><span class="line">    <span class="comment">// resolve 异步处理成功后执行的回调函数</span></span><br><span class="line">    <span class="comment">// reject 异步处理失败后执行的回调函数</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ... 异步的操作</span></span><br><span class="line">})</span><br><span class="line">p.then(<span class="function">(<span class="params">result</span>) =&gt;</span> {</span><br><span class="line">    <span class="comment">// 异步处理成功后要做的事情，这个回调函数就相当于resolve</span></span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">}, (error) =&gt; {</span><br><span class="line">    <span class="comment">// 异步处理失败后要做的事情，这个回调函数就相当于reject</span></span><br><span class="line">}).then(<span class="function"><span class="params">d2</span> =&gt;</span> { </span><br><span class="line">    <span class="comment">// p.then.then 第二个then是从第一个then中result的返回值，以此类推，第n个then下面的result、reject获取的是第n-1个then的返回值</span></span><br><span class="line">}, e2 =&gt; {</span><br><span class="line"></span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<h3 id="4-1-Promise实例（对象）的三种状态"><a href="#4-1-Promise实例（对象）的三种状态" class="headerlink" title="4.1 Promise实例（对象）的三种状态"></a><em>4.1 Promise实例（对象）的三种状态</em></h3><ul>
<li>pending：（已经准备好：初始化成功，开始执行异步任务）</li>
<li>fulfilled：（成功：异步处理成功）</li>
<li>rejected：（失败：异步处理失败）</li>
</ul>
<blockquote>
<p>Promise对象的状态是由pending变为fulfilled或rejected，状态一旦发生变更就会凝固（不会再发生改变）</p>
</blockquote>
<h3 id="4-2-回调函数在创建Promise实例的时候会同步执行"><a href="#4-2-回调函数在创建Promise实例的时候会同步执行" class="headerlink" title="4.2 回调函数在创建Promise实例的时候会同步执行"></a><em>4.2 回调函数在创建Promise实例的时候会同步执行</em></h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">    }, <span class="number">2000</span>)</span><br><span class="line">})</span><br><span class="line">p2.then()</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line"><span class="comment">// 打印输出顺序：2 1 3</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="4-3-Promise如何管理异步"><a href="#4-3-Promise如何管理异步" class="headerlink" title="4.3 Promise如何管理异步"></a><em>4.3 Promise如何管理异步</em></h3><blockquote>
<p>因为无法准确判定异步任务完成的时间，所以将要执行的函数放到异步任务当中</p>
</blockquote>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line">    <span class="comment">// Promise的回调函数有两个形参：resolve，reject，并且这两个参数都是回调函数</span></span><br><span class="line">    <span class="comment">// resolve：表示异步处理成功后执行的回调函数</span></span><br><span class="line">    <span class="comment">// reject：表示异步处理失败后执行的回调函数</span></span><br><span class="line"></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">        resolve(<span class="string">'oh yeah!'</span>) <span class="comment">// resolve是then方法的第一个参数</span></span><br><span class="line">    }, <span class="number">3000</span>)</span><br><span class="line"></span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">        reject(<span class="string">'oh fuck!'</span>) <span class="comment">// reject是then方法的第二个参数</span></span><br><span class="line">    }, <span class="number">3000</span>)</span><br><span class="line">}).then(<span class="function">(<span class="params">result</span>) =&gt;</span> {</span><br><span class="line">    <span class="comment">// 这个then的第一个参数就是resolve（现在可以这么说，但事实上不是）</span></span><br><span class="line">    <span class="comment">// 如果resolve就会执行这个方法，如果想在异步处理成功后做的事情要写到这个方法中</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'then方法的第一个参数输出的结果：'</span>, result)</span><br><span class="line">}, (error) =&gt; {</span><br><span class="line">    <span class="comment">// 这个then的第二个参数就是reject（现在可以这么说，但事实上不是）</span></span><br><span class="line">    <span class="comment">// 如果reject就会执行这个方法，如果想在异步处理失败后做的事情要写到这个方法中</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'then方法的第二个参数输出的结果：'</span>, error)</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<h3 id="4-4-Promise处理AJAX请求数据"><a href="#4-4-Promise处理AJAX请求数据" class="headerlink" title="4.4 Promise处理AJAX请求数据"></a><em>4.4 Promise处理AJAX请求数据</em></h3><ul>
<li>1.把异步的处理（定时器、AJAX…）写在new Promise() 时的回调函数中；如果异步处理成功，执行resolve()，如果异步处理失败，执行reject()</li>
<li>2.把异步处理成功以后要做的事情写在then方法的第一个参数里面，把异步处理失败以后要做的事情写在then方法的第二个参数里面<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line">    <span class="comment">// 把异步的行为写在该函数中</span></span><br><span class="line">    <span class="keyword">let</span> xhr = <span class="keyword">new</span> XMLHttpRequest()</span><br><span class="line">    xhr.open(<span class="string">'GET'</span>, <span class="string">'json/data.json'</span>, <span class="literal">true</span>)</span><br><span class="line">    xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">        <span class="keyword">if</span>(xhr.readyState === <span class="number">4</span> &amp;&amp; xhr.status === <span class="regexp">/^2\d+{2}&amp;/</span>){</span><br><span class="line">            <span class="comment">// 满足这个条件就表示AJAX请求成功，在这里面就可以执行成功以后的处理</span></span><br><span class="line">            <span class="keyword">let</span> data = <span class="built_in">JSON</span>.parse(xhr.responseText)</span><br><span class="line">            resolve(data) <span class="comment">// data传给then方法的第一个回调函数</span></span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span>(xhr.readyState === <span class="number">4</span> $$ xhr.status !== <span class="regexp">/^2\d+{2}&amp;/</span>){</span><br><span class="line">            reject(<span class="string">'AJAX request default'</span>) <span class="comment">// 'default'这个字符串传给了then方法的第二个回调函数</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    xhr.send()</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line">p.then(<span class="function"><span class="params">result</span> =&gt;</span> {</span><br><span class="line">    <span class="comment">// 这个函数表示ajax请求成功后执行的函数</span></span><br><span class="line">    <span class="built_in">console</span>.log(result)</span><br><span class="line">    bindHTML(result) <span class="comment">// 绑定数据要写在这个函数中</span></span><br><span class="line">}, error =&gt; {</span><br><span class="line">    <span class="comment">// 这个函数表示ajax请求失败后执行的函数</span></span><br><span class="line">    <span class="built_in">console</span>.log(error)</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindHTML</span>(<span class="params">data</span>)</span>{</span><br><span class="line">    <span class="comment">// 绑定数据</span></span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">``</span></span><br><span class="line">    data.forEach(<span class="function">(<span class="params">item,index</span>) =&gt;</span> {</span><br><span class="line">        str += <span class="string">`&lt;&gt;id,name&lt;/&gt;`</span></span><br><span class="line">        <span class="keyword">let</span> wrapper = <span class="built_in">document</span>.getElementById(<span class="string">'wrapper'</span>)</span><br><span class="line">        wrapper.innerHTML = str</span><br><span class="line">    })</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
为什么使用异步的AJAX：</li>
<li>如果页面中只有一个AJAX请求，异步和同步没有太大区别，就是代码组织顺序不同</li>
<li>如果页面中有多个AJAX请求使用同步，导致后面的AJAX必须等着前一个AJAX结束才能开始下一个，导致用户等待AJAX相应的时间会累加；如果使用异步，后面的AJAX不用等上一个AJAX完成就可以开始请求下一个（但是也不要一口气请求太多，一般一个页面中同时发起的AJAX请求不要超过6个）</li>
</ul>
<h2 id="5-jQuery"><a href="#5-jQuery" class="headerlink" title="5. jQuery"></a><em>5. jQuery</em></h2><p><strong>一款非常优秀的类库</strong>，是一个类（Function）；常用$表示jQuery；jQuery简称jq；</p>
<p>类库、插件、UI组件、框架</p>
<pre><code>1. 类库：提供了很多的工具方法，这里面没有业务逻辑（不关心你干什么）；可以用这些工具方法来实现业务逻辑；
常用的类库：jQuery / zepto / lodash...

2. 插件：封装了指定功能的JS代码的单元，插件都是有固定功能的；
如选项卡插件、轮播图插件、日历插件

3. UI组件：把固定功能的html、css、js都封装起来；需要某个功能时，直接导入就能用；
常用的UI组件：antd（ant-design）/ ElementUI / material-Design / Echars

4. 框架：有自己的设计理念和思想（数据驱动MVC、MVVM），使用框架开发，需要按照框架的思想和理念开发，框架会实现成应用；
常用的框架：react（React Native）/ Vue / Angular / Backbone</code></pre><h3 id="5-1-jQuery选择器（获取元素对象）"><a href="#5-1-jQuery选择器（获取元素对象）" class="headerlink" title="5.1 jQuery选择器（获取元素对象）"></a><em>5.1 jQuery选择器（获取元素对象）</em></h3><p>jq选择器是用来获取元素对象或者元素集合；一般使用选择器来获取元素；</p>
<p>CSS代码</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">* {</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.tabBox</span> {</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">30px</span> auto;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#00b38a</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.animate</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#999999</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#00b38a</span>;</span><br><span class="line">    <span class="comment">/*height: 5000px;*/</span></span><br><span class="line">}</span><br><span class="line"><span class="selector-tag">button</span> {</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">40px</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>JavaScript代码</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;button <span class="class"><span class="keyword">class</span></span>=<span class="string">"btn2"</span>&gt;取消&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">&lt;div id="tabBox" class="tabBox two"&gt;</span></span><br><span class="line"><span class="regexp">	&lt;ul class="header"&gt;</span></span><br><span class="line"><span class="regexp">	    &lt;li&gt;111&lt;/</span>li&gt;</span><br><span class="line">	    &lt;li&gt;<span class="number">222</span>&lt;<span class="regexp">/li&gt;</span></span><br><span class="line"><span class="regexp">	    &lt;li&gt;333&lt;/</span>li&gt;</span><br><span class="line">	&lt;<span class="regexp">/ul&gt;	</span></span><br><span class="line"><span class="regexp">	&lt;div class="hearderNext"&gt;</span></span><br><span class="line"><span class="regexp">	    &lt;div&gt;12345&lt;/</span>div&gt;</span><br><span class="line">	&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  &lt;div&gt;&lt;/</span>div&gt;</span><br><span class="line">  &lt;div&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>div&gt;</span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"next"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;p class="pp"&gt;&lt;/</span>p&gt;</span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"animate"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;button class="btn"&gt;动画&lt;/</span>button&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;div class="wrapper" id="wrapper"&gt;&lt;/</span>div&gt;</span><br><span class="line">&lt;script src=<span class="string">"js/jquery.js"</span>&gt;&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="5-1-1-基本选择器"><a href="#5-1-1-基本选择器" class="headerlink" title="5.1.1 基本选择器"></a><em>5.1.1 基本选择器</em></h4><ul>
<li>id选择器</li>
<li>class类名选择</li>
<li>标签名选择器<blockquote>
<p>通过$(selector)获取的结果是一个类数组；并且是jQuery的实例</p>
</blockquote>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> idEg = $(<span class="string">'#tabBox'</span>)</span><br><span class="line"><span class="keyword">let</span> classNameEg = $(<span class="string">'.tabBox'</span>)</span><br><span class="line"><span class="keyword">let</span> tagNameEg = $(<span class="string">'ul'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(idEg) </span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">jQuery.fn.init(1) [</span></span><br><span class="line"><span class="comment">    0: div#tabBox.tabBox.two</span></span><br><span class="line"><span class="comment">    context: document</span></span><br><span class="line"><span class="comment">    length: 1 // 根据选择器获取到元素个数</span></span><br><span class="line"><span class="comment">    selector: "#tabBox" // 获取时使用的选择器</span></span><br><span class="line"><span class="comment">    __proto__: Object(0)</span></span><br><span class="line"><span class="comment">] </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">console</span>.log(idEg <span class="keyword">instanceof</span> $) <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h4 id="5-1-2-层级选择器"><a href="#5-1-2-层级选择器" class="headerlink" title="5.1.2 层级选择器"></a><em>5.1.2 层级选择器</em></h4><p>根据html层级关系选择元素对象</p>
<ul>
<li>后代选择器：#tabBox div (获取id为tabBox后代中所有的div)</li>
<li>子级选择器：#tabBox &gt; div (获取id为tabBox所有子级div)</li>
<li>兄弟选择器：#tabBox + div (获取id为tabBox【紧邻】的下一个兄弟div)</li>
<li>获取所有的弟弟：#tabBox ~ div<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="string">'#tabBox div'</span>)) <span class="comment">// jQuery.fn.init(4)&nbsp;[div.hearderNext, div, div, div, prevObject: jQuery.fn.init(1), context: document, selector: "#tabBox div"]</span></span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'#tabBox &gt; div'</span>)) </span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'#tabBox + div'</span>)) </span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'#tabBox ~ div'</span>))</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h4 id="5-1-3-过滤选择器"><a href="#5-1-3-过滤选择器" class="headerlink" title="5.1.3 过滤选择器"></a><em>5.1.3 过滤选择器</em></h4><ul>
<li>:first：获取第一个</li>
<li>:last：获取最后一个</li>
<li>:odd：获取索引为奇数的</li>
<li>:even：获取索引为偶数的</li>
<li>:eq(index)：获取指定索引的</li>
<li>:not(:first)：除了第一个都要获取</li>
<li>:gt(index)：获取比指定索引大的</li>
<li>:lt(index)：获取比指定索引小的<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.header li:first'</span>)) <span class="comment">// jQuery.fn.init&nbsp;[li, prevObject: jQuery.fn.init(1), context: document, selector: ".header li:first"]</span></span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.header li:last'</span>)) </span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.header li:odd'</span>))</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.header li:even'</span>))</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.header li:eq(2)'</span>))</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.header li:not(:first)'</span>))</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.header li:gt(1)'</span>))</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.header li:lt(1)'</span>))</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="5-2-jQuery对象与原生对象及互转"><a href="#5-2-jQuery对象与原生对象及互转" class="headerlink" title="5.2 jQuery对象与原生对象及互转"></a><em>5.2 jQuery对象与原生对象及互转</em></h3><p>通过jQuery获取来的都是jQuery的实例，就能调用jQuery原型上的方法，jQuery会把所有获取来的元素对象都放到实例中，并且有索引有length；索引对应的值都是原生对象</p>
<p>原生对象：通过原生JS提供的方法（getElementsByXxx）获取来的元素对象</p>
<blockquote>
<p>为什么要互转？</p>
</blockquote>
<p>因为原生对象只能用原生的方法，jQuery对象只能调用jQuery原型的方法。有的时候需要把原生对象转成jQuery对象，以便使用jQuery原型上的方法</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 原生JS获取元素对象</span></span><br><span class="line"><span class="keyword">let</span> tabBox = <span class="built_in">document</span>.getElementById(<span class="string">'tabBox'</span>)</span><br><span class="line"><span class="built_in">console</span>.log(tabBox) <span class="comment">// &lt;div id="tabBox" class="tabBox two"&gt;...&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// jQuery获取元素对象</span></span><br><span class="line"><span class="keyword">let</span> $tabBox = $(<span class="string">'#tabBox'</span>)</span><br><span class="line"><span class="built_in">console</span>.log($tabBox) <span class="comment">// jQuery.fn.init&nbsp;[div#tabBox.tabBox.two, context: document, selector: "#tabBox"]</span></span><br></pre></td></tr></tbody></table></figure>
<p><strong>jQuery对象转原生对象：</strong></p>
<p>通过[索引] 把原生对象从jQuery对象中取出来；</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($tabBox[<span class="number">0</span>])</span><br></pre></td></tr></tbody></table></figure>
<p><strong>原生对象转jQuery对象</strong></p>
<p>$(原生对象)</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(tabBox))</span><br></pre></td></tr></tbody></table></figure>

<h3 id="5-3-jQuery常用的方法"><a href="#5-3-jQuery常用的方法" class="headerlink" title="5.3 jQuery常用的方法"></a><em>5.3 jQuery常用的方法</em></h3><p>jQuery常用的方法大部分都定义在jQuery的原型上，也有一部分定义在jQuery自身上；定义在原型上的方法只有jQuery的实例能调用，定义在jQuery自身上的方法只有jQuery自己可以调用</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> $tabBox = $(<span class="string">'.tabBox'</span>)</span><br><span class="line"><span class="keyword">let</span> $header = $(<span class="string">'.header'</span>)</span><br><span class="line"><span class="keyword">let</span> $pp = $(<span class="string">'.pp'</span>)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>height() 不传参时是设置元素的高度，传参是设置元素的高度<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($tabBox.height())</span><br><span class="line">$tabBox.height(<span class="number">100</span>)</span><br></pre></td></tr></tbody></table></figure></li>
<li>width() 不传参时是设置元素的宽度，传参是设置元素的宽度<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($tabBox.width())</span><br><span class="line">$tabBox.width(<span class="number">800</span>)</span><br></pre></td></tr></tbody></table></figure></li>
<li>offset() 获取元素到body左内边和上内边的距离；返回一个对象{left: xxx, top: xxx}<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($tabBox.offset()) <span class="comment">// 返回一个对象{left: xxx, top: xxx}</span></span><br><span class="line"><span class="comment">// 设置</span></span><br><span class="line">$tabBox.offset().top = <span class="number">300</span></span><br><span class="line">$tabBox.offset().left = <span class="number">500</span></span><br></pre></td></tr></tbody></table></figure></li>
<li>scrollLeft() / scrollTop() 获取横向 / 纵向滚动条滚动卷起的距离<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="built_in">document</span>.documentElement).scrollTop())</span><br><span class="line"><span class="built_in">console</span>.log($(<span class="built_in">document</span>.documentElement).scrollLeft())</span><br></pre></td></tr></tbody></table></figure></li>
<li>innerWidth() / innerHeight() 获取元素的clientWidth / clientHeight<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($tabBox.innerWidth)</span><br><span class="line"><span class="built_in">console</span>.log($tabBox.innerHeight)</span><br></pre></td></tr></tbody></table></figure></li>
<li>outerWidth() / outerHeight() 获取元素（包含边框）的宽/高度，相当于offsetWidth / offsetHeight<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($tabBox.outerWidth)</span><br><span class="line"><span class="built_in">console</span>.log($tabBox.outerHeight)</span><br></pre></td></tr></tbody></table></figure></li>
<li>hasClass() 判断元素是否有某个类名；有返回true， 没有返回false<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($tabBox.hasClass(<span class="string">'tabBox'</span>))</span><br></pre></td></tr></tbody></table></figure></li>
<li>addClass() 为当前元素增加类名<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($tabBox.addClass(<span class="string">'one'</span>))</span><br></pre></td></tr></tbody></table></figure></li>
<li>removeClass() 为当前元素删除某个类名<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($tabBox.removeClass(<span class="string">'two'</span>))</span><br></pre></td></tr></tbody></table></figure></li>
<li>append() 向元素末尾追加元素<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> newDiv = $(<span class="string">'&lt;div&gt;这是一个新增的div&lt;/div&gt;'</span>) <span class="comment">// 向$() 传一个长得像标签的字符串，会创建一个新的jQuery元素对象，【不是原生对象】</span></span><br><span class="line"><span class="built_in">console</span>.log(newDiv)</span><br><span class="line">$tabBox.append(newDiv)</span><br></pre></td></tr></tbody></table></figure></li>
<li>元素.remove() 删除元素<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$tabBox.remove() <span class="comment">// 谁要被删除，谁去调用remove方法</span></span><br></pre></td></tr></tbody></table></figure></li>
<li>children() 获取当前元素的所有子元素节点<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($tabBox.children())</span><br></pre></td></tr></tbody></table></figure></li>
<li>parent() 获取当前元素的父元素<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($header.parent())</span><br></pre></td></tr></tbody></table></figure></li>
<li>next() 获取当前元素的弟弟元素 / nextAll() 获取当前元素的所有弟弟元素<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($header.next())</span><br><span class="line"><span class="built_in">console</span>.log($header.nextAll())</span><br></pre></td></tr></tbody></table></figure></li>
<li>prev() 获取当前元素的上一个哥哥元素 / prevAll() 获取当前元素所有的哥哥元素<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($pp.prev())</span><br><span class="line"><span class="built_in">console</span>.log($pp.prevAll())</span><br></pre></td></tr></tbody></table></figure></li>
<li>siblings() 获取当前元素所有的兄弟元素<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($pp.siblings())</span><br></pre></td></tr></tbody></table></figure></li>
<li>index() 获取当前元素的在它所处集合当中的索引；（其原理就是获取当前元素的哥哥数量，而这个数量恰好就是元素）<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.header li'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="comment">// this 还是指向被点击的元素（原生对象）</span></span><br><span class="line">    <span class="built_in">console</span>.log($(<span class="keyword">this</span>).index())</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure></li>
<li>eq(index) 获取指定索引的元素<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.header li'</span>).eq(<span class="number">1</span>))</span><br></pre></td></tr></tbody></table></figure></li>
<li>css() 获取、（批量）设置元素样式<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($tabBox.css(<span class="string">'width'</span>)) <span class="comment">// 获取当前元素的width</span></span><br><span class="line"><span class="built_in">console</span>.log($tabBox.css(<span class="string">'width'</span>, <span class="number">600</span>)) <span class="comment">// 设置当前元素的width为600px</span></span><br><span class="line"><span class="built_in">console</span>.log($tabBox.css({ <span class="comment">// 批量设置元素的样式</span></span><br><span class="line">    height: <span class="number">800</span>, </span><br><span class="line">    background: <span class="string">'red'</span></span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure></li>
<li>text() 如果不传参就是获取当前元素的innerText，如果传参数就是设置当前元素的innerText<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($(<span class="string">'.btn'</span>).text())</span><br><span class="line">$(<span class="string">'.btn'</span>).text(<span class="string">'大风车'</span>)</span><br></pre></td></tr></tbody></table></figure></li>
<li>html() 如果不传参就是获取当前元素的innerHTML，如果传参数就是设置当前元素的innerHTML<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log($tabBox.html())</span><br><span class="line">$tabBox.html(<span class="string">'&lt;a href="https://www.baidu.com"&gt;百度&lt;/a&gt;'</span>)</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="5-4-jQuery事件绑定"><a href="#5-4-jQuery事件绑定" class="headerlink" title="5.4 jQuery事件绑定"></a><em>5.4 jQuery事件绑定</em></h3><p>绑定事件的两种方式：</p>
<ul>
<li>1.把事件名中的on去掉，变成jQuery对应的方法，事件函数以回调函数的形式传给对应的方法；如原生JS的onclick事件，在jQuery中变成click（事件函数）方法<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> $btn2 = $(<span class="string">'.btn2'</span>)</span><br><span class="line">$btn2.click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>) <span class="comment">// this还是绑定当前事件的元素，并且是原生的元素对象</span></span><br><span class="line">    $(<span class="keyword">this</span>).css({</span><br><span class="line">        backgroundColor: <span class="string">'red'</span></span><br><span class="line">    })</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure></li>
<li>2.jQuery中提供了一个on方法，on方法有两个参数，第一个是去掉on的事件名，第二个参数是事件函数<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$btn2.on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>) <span class="comment">// this还是绑定当前事件的元素，并且是原生的元素对象</span></span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure></li>
<li>3.off() 方法，解绑事件（移除事件）<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$btn2.off(<span class="string">'click'</span>)</span><br></pre></td></tr></tbody></table></figure></li>
<li>4.trigger() 用代码触发事件执行<blockquote>
<p>可以通过定时器做一个自己执行的工具</p>
</blockquote>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setInterval(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">    $btn2.trigger(<span class="string">'click'</span>)</span><br><span class="line">}, <span class="number">2000</span>)</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="5-5-jQuery的动画效果"><a href="#5-5-jQuery的动画效果" class="headerlink" title="5.5 jQuery的动画效果"></a><em>5.5 jQuery的动画效果</em></h3><h4 id="5-5-1-animate"><a href="#5-5-1-animate" class="headerlink" title="5.5.1 animate()"></a><em>5.5.1 animate()</em></h4><p>动画方法；$(selector).animate(styles, speed, easing, callback)</p>
<ul>
<li>styles：规定产生动画效果的CSS样式和值</li>
<li>speed：规定动画的速度，默认是normal</li>
<li>easing：规定在不同的动画中设置动画速度的easing函数，内置的easing函数：<ul>
<li>swing</li>
<li>linear</li>
</ul>
</li>
<li>callback：animate函数执行完后，要执行的函数<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> $btn = $(<span class="string">'.btn'</span>)</span><br><span class="line">$btn.click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="comment">// 这个事件函数中；如果要用this，就不要用箭头函数，因为箭头函数的this不受控</span></span><br><span class="line">    $(<span class="string">'.animate'</span>).animate({</span><br><span class="line">        width: <span class="number">400</span>,</span><br><span class="line">        height: <span class="number">400</span></span><br><span class="line">    }, <span class="number">2000</span>)</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h4 id="5-5-2-stop"><a href="#5-5-2-stop" class="headerlink" title="5.5.2 stop()"></a><em>5.5.2 stop()</em></h4><p>停止元素当前正在执行的动画，不管它是否执行完；一般用来动画开始前先清除之前的动画，防止动画累加</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$btn.click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="comment">// 这个事件函数中，如果要用this，就不要用箭头函数，因为箭头函数的this不受控</span></span><br><span class="line">    $(<span class="string">'.animate'</span>).animate({</span><br><span class="line">        width: <span class="number">400</span>,</span><br><span class="line">        height: <span class="number">400</span></span><br><span class="line">    }, <span class="number">2000</span>)</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">        $(<span class="string">'.animate'</span>).stop()</span><br><span class="line">    }, <span class="number">1000</span>)</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<h4 id="5-5-3-finish"><a href="#5-5-3-finish" class="headerlink" title="5.5.3 finish()"></a><em>5.5.3 finish()</em></h4><p>结束当前动画，忽略当前的动画时间直接到终点</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$btn.click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    <span class="comment">// 这个事件函数中，如果要用this，就不要用箭头函数，因为箭头函数的this不受控</span></span><br><span class="line">    $(<span class="string">'.animate'</span>).animate({</span><br><span class="line">        width: <span class="number">400</span>,</span><br><span class="line">        height: <span class="number">400</span></span><br><span class="line">    }, <span class="number">2000</span>)</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> {</span><br><span class="line">        $(<span class="string">'.animate'</span>).finish()</span><br><span class="line">    }, <span class="number">800</span>)</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<h4 id="5-5-4-show-hide"><a href="#5-5-4-show-hide" class="headerlink" title="5.5.4 show() / hide()"></a><em>5.5.4 show() / hide()</em></h4><p>显示或者隐藏；参数是动画持续时间</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 显示</span></span><br><span class="line">$(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    $(<span class="string">'.animate'</span>).show(<span class="number">300</span>)</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="comment">// 隐藏</span></span><br><span class="line">$(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    $(<span class="string">'.animate'</span>).hide(<span class="number">300</span>)</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<h4 id="5-5-5-slideUp-slideDown"><a href="#5-5-5-slideUp-slideDown" class="headerlink" title="5.5.5 slideUp() / slideDown()"></a><em>5.5.5 slideUp() / slideDown()</em></h4><p>滑动收起，下滑展开</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 滑动收起</span></span><br><span class="line">$(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    $(<span class="string">'.animate'</span>).slideUp(<span class="number">300</span>)</span><br><span class="line">})</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下滑展开</span></span><br><span class="line">$(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">    $(<span class="string">'.animate'</span>).slideDown(<span class="number">300</span>)</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<h4 id="5-5-6-fadeIn-fadeOut"><a href="#5-5-6-fadeIn-fadeOut" class="headerlink" title="5.5.6 fadeIn() / fadeOut()"></a><em>5.5.6 fadeIn() / fadeOut()</em></h4><p>淡入/淡出</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 淡入</span></span><br><span class="line">$(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">  $(<span class="string">'.animate'</span>).fadeIn(<span class="number">300</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">// 淡出</span></span><br><span class="line">$(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">  $(<span class="string">'.animate'</span>).fadeOut(<span class="number">300</span>);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

<h3 id="5-6-jQuery中的AJAX"><a href="#5-6-jQuery中的AJAX" class="headerlink" title="5.6 jQuery中的AJAX"></a><em>5.6 jQuery中的AJAX</em></h3><p>$.ajax() 方法是jQuery的静态方法；$.ajax() 定义在jQuery自己身上，没有定义在原形上，只有jQuery自己能调用，而css，html，animate等都是定义在jq原型上的方法</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$.ajax({</span><br><span class="line">    <span class="comment">//接口</span></span><br><span class="line">    url: <span class="string">'json/data.json'</span>, </span><br><span class="line">    <span class="comment">// http type 请求方式：默认'GET'；'POST' 'DELETE' 'PUT' 'OPTIONS' </span></span><br><span class="line">    type: <span class="string">'GET'</span>, </span><br><span class="line">    <span class="comment">// 是否异步，默认值true，表示异步</span></span><br><span class="line">    <span class="keyword">async</span>: <span class="literal">true</span>, </span><br><span class="line">    <span class="comment">// 数据类型，因为jQuery的AJAX自动格式化数据，所以需要告诉jQuery，你所需要的数据类型</span></span><br><span class="line">    dataType: <span class="string">'json'</span>, </span><br><span class="line">    <span class="comment">// POST请求的参数，是发送给服务器的数据（GET请求时不用谢写）</span></span><br><span class="line">    data: { </span><br><span class="line">        id: <span class="string">'18'</span>,</span><br><span class="line">        price: <span class="number">1000</span></span><br><span class="line">    }, </span><br><span class="line">    error (err){</span><br><span class="line">        <span class="comment">// 如果AJAX请求失败会调用这个函数；error first 优先处理错误</span></span><br><span class="line">        <span class="built_in">console</span>.log(err)</span><br><span class="line">    },</span><br><span class="line">    success (data){</span><br><span class="line">        <span class="comment">// 如果AJAX请求成功会调用这个函数；这个data就是请求回来的数据，并且jQuery会帮我们处理成对象，不用自己再JSON.parse()</span></span><br><span class="line">        <span class="built_in">console</span>.log(data) </span><br><span class="line">        <span class="comment">// 绑定事件</span></span><br><span class="line">    }</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<h3 id="5-7-jQuery中的each方法"><a href="#5-7-jQuery中的each方法" class="headerlink" title="5.7 jQuery中的each方法"></a><em>5.7 jQuery中的each方法</em></h3><p>jQuery中的each可以用来遍历数组和对象</p>
<h4 id="5-7-1-遍历一个数组"><a href="#5-7-1-遍历一个数组" class="headerlink" title="5.7.1 遍历一个数组"></a><em>5.7.1 遍历一个数组</em></h4><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ary = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">$.each(ary, <span class="function"><span class="keyword">function</span>(<span class="params">index, item</span>)</span>{</span><br><span class="line">    <span class="comment">// =&gt; 这个小函数叫做回调函数，回调函数的参数和数组的forEach方法相反</span></span><br><span class="line">    <span class="built_in">console</span>.log(index, item)</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<h4 id="5-7-2-遍历一个对象"><a href="#5-7-2-遍历一个对象" class="headerlink" title="5.7.2 遍历一个对象"></a><em>5.7.2 遍历一个对象</em></h4><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = {</span><br><span class="line">    name: <span class="string">'Bruno'</span>,</span><br><span class="line">    age: <span class="number">18</span>,</span><br><span class="line">    title: <span class="string">'24K'</span></span><br><span class="line">}</span><br><span class="line">$.each(obj, <span class="function"><span class="keyword">function</span>(<span class="params">key, value</span>)</span>{</span><br><span class="line">    <span class="comment">// =&gt; 原理其实就是for in 循环</span></span><br><span class="line">    <span class="built_in">console</span>.log(key,value)</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<h4 id="5-7-3-jQuery隐式调用each方法"><a href="#5-7-3-jQuery隐式调用each方法" class="headerlink" title="5.7.3 jQuery隐式调用each方法"></a><em>5.7.3 jQuery隐式调用each方法</em></h4><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.header li'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params">index, item</span>) </span>{</span><br><span class="line">    <span class="comment">// $('.header li')获取的jq集合中有三个，jq会判断，如果是一个元素对象就处理这个元素对象，如果是一个集合例如我们此处相当于给三个li，会默认把集合进行each遍历，把每一项都绑定了click事件，在这个回调函数中this仍然指向点击的元素（原生对象），如果想调用jq上的方法，需要用$(this)才行</span></span><br><span class="line">    $(<span class="keyword">this</span>).css({</span><br><span class="line">        background: <span class="string">'red'</span></span><br><span class="line">    })</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<h4 id="5-7-4-类数组集合（jq对象）"><a href="#5-7-4-类数组集合（jq对象）" class="headerlink" title="5.7.4 类数组集合（jq对象）"></a><em>5.7.4 类数组集合（jq对象）</em></h4><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'.tabBox li'</span>).each(<span class="function"><span class="keyword">function</span> (<span class="params">index, item</span>) </span>{</span><br><span class="line">    <span class="comment">// 非箭头函数，this === item 当前遍历的这一项（原生js元素对象）</span></span><br><span class="line">    <span class="comment">// $(this) 把当前遍历的这一项转换为jq对象；</span></span><br><span class="line">    $(<span class="keyword">this</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</span><br><span class="line">        <span class="comment">// 给每一个遍历的li都绑定一个点击事件</span></span><br><span class="line">        <span class="comment">// this 这个函数中的this是当前点击的li（原生js元素对象）</span></span><br><span class="line">        $(<span class="keyword">this</span>).css({</span><br><span class="line">          color: <span class="string">'red'</span></span><br><span class="line">        })</span><br><span class="line">    })</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

<h3 id="5-8-jQuery的选项卡"><a href="#5-8-jQuery的选项卡" class="headerlink" title="5.8 jQuery的选项卡"></a><em>5.8 jQuery的选项卡</em></h3><p>html代码</p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/reset.min.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"css/index.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tabBox"</span> <span class="attr">id</span>=<span class="string">"tabBox"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"header clearfix"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"active"</span>&gt;</span>新闻<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>电影<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>音乐<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"active"</span>&gt;</span>时事新闻<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>最新电影<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>欧美音乐<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"js2/9-jq选项卡.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<p>JavaScript代码</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> $tabHeader = $(<span class="string">'.header &gt; li'</span>)</span><br><span class="line"><span class="keyword">let</span> $tabCard = $(<span class="string">'#tabBox &gt; li'</span>)</span><br><span class="line"></span><br><span class="line">$tabHeader.click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>{</span><br><span class="line">    $(<span class="keyword">this</span>)</span><br><span class="line">    .addClass(<span class="string">'active'</span>) <span class="comment">// 为被点击的增加active类名</span></span><br><span class="line">    .siblings() <span class="comment">// 获取被点击元素的兄弟们</span></span><br><span class="line">    .removeClass(<span class="string">'active'</span>) <span class="comment">// 移除被点击元素的兄弟们的active类名</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> index = $(<span class="keyword">this</span>).index() <span class="comment">// 获取当前被点击li的索引</span></span><br><span class="line"></span><br><span class="line">    $tabCard.eq(index) <span class="comment">// 获取索引为index的卡片</span></span><br><span class="line">    .addClass(<span class="string">'active'</span>) <span class="comment">// 给索引为index的卡片</span></span><br><span class="line">    .siblings()</span><br><span class="line">    .removeClass(<span class="string">'active'</span>) </span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>
<p>CSS代码</p>
<figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.tabBox</span> {</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">20px</span> auto;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">602px</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.tabBox</span> <span class="selector-tag">ul</span> {</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.tabBox</span> <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span> {</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">1px</span> solid black;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.tabBox</span> <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">:nth-last-child(1)</span> {</span><br><span class="line">    <span class="attribute">border-right</span>: none;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.tabBox</span> <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span><span class="selector-class">.active</span> {</span><br><span class="line">    <span class="attribute">background</span>: yellow;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.tabBox</span> <span class="selector-tag">div</span> {</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid black;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.tabBox</span> <span class="selector-tag">div</span><span class="selector-class">.active</span> {</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.animate</span> {</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">background</span>: greenyellow;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script><!-- flag of hidden posts --></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:1966861494@qq.com">Edsyang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://blog.lagerstroemia.com.cn/2019/07/20/course/origin/08-Chapter%20Six-A.part%20one/">http://blog.lagerstroemia.com.cn/2019/07/20/course/origin/08-Chapter%20Six-A.part%20one/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://blog.lagerstroemia.com.cn" target="_blank">Edsyang</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JS-Notes/">JS Notes</a></div><div class="post_share"><div class="social-share" data-image="https://tva1.sinaimg.cn/large/007S8ZIlly1gegal5ikmoj30u00xpe81.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.png" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.png" alt="支付宝"/><div class="post-qr-code__desc">支付宝</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var requestSetting = function (from,set) {
  var from = from
  var setting = set.split(',').filter(function(item){
  return from.indexOf(item) > -1
  });
  setting = setting.length == 0 ? from :setting;
  return setting
}

var guestInfo = requestSetting(['nick','mail','link'],'nick,mail,link')
var requiredFields = requestSetting(['nick','mail','link'],'nick,mail')

window.valine = new Valine({
  el:'#vcomment',
  appId: 'WgFk4Onl7sisfXpq9vHcehGJ-gzGzoHsz',
  appKey: '3DLR7iLY5al5dbIdo9kWnDHU',
  notify: false,
  verify: false,
  placeholder: 'Please leave your footprints',
  avatar: 'monsterid',
  meta: guestInfo,
  pageSize: '10',
  lang: 'en',
  recordIP: false,
  serverURLs: '',
  emojiCDN: '',
  emojiMaps: "",
  enableQQ: true,
  requiredFields: requiredFields
});</script></div></article></main><footer id="footer" data-type="color"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By Edsyang</div><div class="framework-info"><span>Driven </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="icp"><a href="http://www.beian.miit.gov.cn/" target="_blank" rel="noopener"><img class="icp-icon" src="/img/icp.png"/><span>冀ICP备19038398号</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script><script src="/js/search/local-search.js"></script></body></html>